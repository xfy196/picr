import{ac as Gt,q as $t,A as Ue,f as xe,o as Z,i as Se,k as L,a as H,w as G,F as vt,j as mt,c as pe,e as Q,t as ue,b as V,W as Pe,y as $e,z as Ne,ad as gt,B as be,x as Nt,n as Ce,ae as ct,af as jt,p as dt,_ as Ht,M as zt,ag as Wt,ah as _t,a1 as wt,X as xt,ai as qt,V as Vt,aj as Xt,ak as ft,C as Kt,D as Yt,al as Qt,a5 as Jt,am as Zt,G as en,a4 as tn,an as nn,ao as rn,ap as an,aq as on,ar as sn,as as ht,at as ln}from"./vendor.472db396.js";/* empty css              *//* empty css              *//* empty css               */import{g as Ie,M as yt,a as St,b as un,u as bt,c as cn,j as dn,m as fn,d as hn,e as pt,f as pn,h as vn}from"./useCopExternalLinks.e716a7c1.js";import{a as mn}from"./index.16ef71e1.js";import{u as je,_ as Ct,r as It}from"./index.19855e7e.js";var Dt={exports:{}};(function(B,q){(function(g,v){B.exports=v()})(Gt,function(){return function(k){var g={};function v(S){if(g[S])return g[S].exports;var R=g[S]={exports:{},id:S,loaded:!1};return k[S].call(R.exports,R,R.exports,v),R.loaded=!0,R.exports}return v.m=k,v.c=g,v.p="",v(0)}([function(k,g,v){v(7),v(8),k.exports=v(9)},function(k,g,v){(function(S){(function(R){var b=typeof S=="function"&&S||function(r){setTimeout(r,1)};function c(r,i){return function(){r.apply(i,arguments)}}var D=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function y(r){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof r!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],a(r,c(l,this),c(t,this))}function N(r){var i=this;if(this._state===null){this._deferreds.push(r);return}b(function(){var h=i._state?r.onFulfilled:r.onRejected;if(h===null){(i._state?r.resolve:r.reject)(i._value);return}var _;try{_=h(i._value)}catch(m){r.reject(m);return}r.resolve(_)})}function l(r){try{if(r===this)throw new TypeError("A promise cannot be resolved with itself.");if(r&&(typeof r=="object"||typeof r=="function")){var i=r.then;if(typeof i=="function"){a(c(i,r),c(l,this),c(t,this));return}}this._state=!0,this._value=r,s.call(this)}catch(h){t.call(this,h)}}function t(r){this._state=!1,this._value=r,s.call(this)}function s(){for(var r=0,i=this._deferreds.length;r<i;r++)N.call(this,this._deferreds[r]);this._deferreds=null}function f(r,i,h,_){this.onFulfilled=typeof r=="function"?r:null,this.onRejected=typeof i=="function"?i:null,this.resolve=h,this.reject=_}function a(r,i,h){var _=!1;try{r(function(m){_||(_=!0,i(m))},function(m){_||(_=!0,h(m))})}catch(m){if(_)return;_=!0,h(m)}}y.prototype.catch=function(r){return this.then(null,r)},y.prototype.then=function(r,i){var h=this;return new y(function(_,m){N.call(h,new f(r,i,_,m))})},y.all=function(){var r=Array.prototype.slice.call(arguments.length===1&&D(arguments[0])?arguments[0]:arguments);return new y(function(i,h){if(r.length===0)return i([]);var _=r.length;function m(p,I){try{if(I&&(typeof I=="object"||typeof I=="function")){var e=I.then;if(typeof e=="function"){e.call(I,function(n){m(p,n)},h);return}}r[p]=I,--_===0&&i(r)}catch(n){h(n)}}for(var T=0;T<r.length;T++)m(T,r[T])})},y.resolve=function(r){return r&&typeof r=="object"&&r.constructor===y?r:new y(function(i){i(r)})},y.reject=function(r){return new y(function(i,h){h(r)})},y.race=function(r){return new y(function(i,h){for(var _=0,m=r.length;_<m;_++)r[_].then(i,h)})},y._setImmediateFn=function(i){b=i},y.prototype.always=function(r){var i=this.constructor;return this.then(function(h){return i.resolve(r()).then(function(){return h})},function(h){return i.resolve(r()).then(function(){throw h})})},typeof k!="undefined"&&k.exports?k.exports=y:R.Promise||(R.Promise=y)})(this)}).call(g,v(2).setImmediate)},function(k,g,v){(function(S){var R=typeof S!="undefined"&&S||typeof self!="undefined"&&self||window,b=Function.prototype.apply;g.setTimeout=function(){return new c(b.call(setTimeout,R,arguments),clearTimeout)},g.setInterval=function(){return new c(b.call(setInterval,R,arguments),clearInterval)},g.clearTimeout=g.clearInterval=function(D){D&&D.close()};function c(D,y){this._id=D,this._clearFn=y}c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(R,this._id)},g.enroll=function(D,y){clearTimeout(D._idleTimeoutId),D._idleTimeout=y},g.unenroll=function(D){clearTimeout(D._idleTimeoutId),D._idleTimeout=-1},g._unrefActive=g.active=function(D){clearTimeout(D._idleTimeoutId);var y=D._idleTimeout;y>=0&&(D._idleTimeoutId=setTimeout(function(){D._onTimeout&&D._onTimeout()},y))},v(3),g.setImmediate=typeof self!="undefined"&&self.setImmediate||typeof S!="undefined"&&S.setImmediate||this&&this.setImmediate,g.clearImmediate=typeof self!="undefined"&&self.clearImmediate||typeof S!="undefined"&&S.clearImmediate||this&&this.clearImmediate}).call(g,function(){return this}())},function(k,g,v){(function(S,R){(function(b,c){if(b.setImmediate)return;var D=1,y={},N=!1,l=b.document,t;function s(e){typeof e!="function"&&(e=new Function(""+e));for(var n=new Array(arguments.length-1),o=0;o<n.length;o++)n[o]=arguments[o+1];var w={callback:e,args:n};return y[D]=w,t(D),D++}function f(e){delete y[e]}function a(e){var n=e.callback,o=e.args;switch(o.length){case 0:n();break;case 1:n(o[0]);break;case 2:n(o[0],o[1]);break;case 3:n(o[0],o[1],o[2]);break;default:n.apply(c,o);break}}function r(e){if(N)setTimeout(r,0,e);else{var n=y[e];if(n){N=!0;try{a(n)}finally{f(e),N=!1}}}}function i(){t=function(e){R.nextTick(function(){r(e)})}}function h(){if(b.postMessage&&!b.importScripts){var e=!0,n=b.onmessage;return b.onmessage=function(){e=!1},b.postMessage("","*"),b.onmessage=n,e}}function _(){var e="setImmediate$"+Math.random()+"$",n=function(o){o.source===b&&typeof o.data=="string"&&o.data.indexOf(e)===0&&r(+o.data.slice(e.length))};b.addEventListener?b.addEventListener("message",n,!1):b.attachEvent("onmessage",n),t=function(o){b.postMessage(e+o,"*")}}function m(){var e=new MessageChannel;e.port1.onmessage=function(n){var o=n.data;r(o)},t=function(n){e.port2.postMessage(n)}}function T(){var e=l.documentElement;t=function(n){var o=l.createElement("script");o.onreadystatechange=function(){r(n),o.onreadystatechange=null,e.removeChild(o),o=null},e.appendChild(o)}}function p(){t=function(e){setTimeout(r,0,e)}}var I=Object.getPrototypeOf&&Object.getPrototypeOf(b);I=I&&I.setTimeout?I:b,{}.toString.call(b.process)==="[object process]"?i():h()?_():b.MessageChannel?m():l&&"onreadystatechange"in l.createElement("script")?T():p(),I.setImmediate=s,I.clearImmediate=f})(typeof self=="undefined"?typeof S=="undefined"?this:S:self)}).call(g,function(){return this}(),v(4))},function(k,g){var v=k.exports={},S,R;function b(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?S=setTimeout:S=b}catch{S=b}try{typeof clearTimeout=="function"?R=clearTimeout:R=c}catch{R=c}})();function D(h){if(S===setTimeout)return setTimeout(h,0);if((S===b||!S)&&setTimeout)return S=setTimeout,setTimeout(h,0);try{return S(h,0)}catch{try{return S.call(null,h,0)}catch{return S.call(this,h,0)}}}function y(h){if(R===clearTimeout)return clearTimeout(h);if((R===c||!R)&&clearTimeout)return R=clearTimeout,clearTimeout(h);try{return R(h)}catch{try{return R.call(null,h)}catch{return R.call(this,h)}}}var N=[],l=!1,t,s=-1;function f(){!l||!t||(l=!1,t.length?N=t.concat(N):s=-1,N.length&&a())}function a(){if(!l){var h=D(f);l=!0;for(var _=N.length;_;){for(t=N,N=[];++s<_;)t&&t[s].run();s=-1,_=N.length}t=null,l=!1,y(h)}}v.nextTick=function(h){var _=new Array(arguments.length-1);if(arguments.length>1)for(var m=1;m<arguments.length;m++)_[m-1]=arguments[m];N.push(new r(h,_)),N.length===1&&!l&&D(a)};function r(h,_){this.fun=h,this.array=_}r.prototype.run=function(){this.fun.apply(null,this.array)},v.title="browser",v.browser=!0,v.env={},v.argv=[],v.version="",v.versions={};function i(){}v.on=i,v.addListener=i,v.once=i,v.off=i,v.removeListener=i,v.removeAllListeners=i,v.emit=i,v.prependListener=i,v.prependOnceListener=i,v.listeners=function(h){return[]},v.binding=function(h){throw new Error("process.binding is not supported")},v.cwd=function(){return"/"},v.chdir=function(h){throw new Error("process.chdir is not supported")},v.umask=function(){return 0}},function(k,g){var v=function(){try{return new Blob,!0}catch{return!1}}()?window.Blob:function(b,c){var D=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MSBlobBuilder||window.MozBlobBuilder);return b.forEach(function(y){D.append(y)}),D.getBlob(c?c.type:void 0)};function S(){var b=~navigator.userAgent.indexOf("Android")&&~navigator.vendor.indexOf("Google")&&!~navigator.userAgent.indexOf("Chrome");return b&&navigator.userAgent.match(/AppleWebKit\/(\d+)/).pop()<=534||/MQQBrowser/g.test(navigator.userAgent)}var R=function(){var b=0;function c(){var D=this,y=[],N=Array(21).join("-")+(+new Date*(1e16*Math.random())).toString(36),l=XMLHttpRequest.prototype.send;this.getParts=function(){return y.toString()},this.append=function(t,s,f){y.push("--"+N+`\r
Content-Disposition: form-data; name="`+t+'"'),s instanceof Blob?(y.push('; filename="'+(f||"blob")+`"\r
Content-Type: `+s.type+`\r
\r
`),y.push(s)):y.push(`\r
\r
`+s),y.push(`\r
`)},b++,XMLHttpRequest.prototype.send=function(t){var s,f,a=this;t===D?(y.push("--"+N+`--\r
`),f=new v(y),s=new FileReader,s.onload=function(){l.call(a,s.result)},s.onerror=function(r){throw r},s.readAsArrayBuffer(f),this.setRequestHeader("Content-Type","multipart/form-data; boundary="+N),b--,b==0&&(XMLHttpRequest.prototype.send=l)):l.call(this,t)}}return c.prototype=Object.create(FormData.prototype),c}();k.exports={Blob:v,FormData:S()?R:FormData}},function(k,g,v){var S,R;(function(){var b=!1,c=function(e){if(e instanceof c)return e;if(!(this instanceof c))return new c(e);this.EXIFwrapped=e};typeof k!="undefined"&&k.exports&&(g=k.exports=c),g.EXIF=c;var D=c.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},y=c.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},N=c.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},l=c.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function t(e){return!!e.exifdata}function s(e,n){n=n||e.match(/^data\:([^\;]+)\;base64,/mi)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gmi,"");for(var o=atob(e),w=o.length,d=new ArrayBuffer(w),A=new Uint8Array(d),x=0;x<w;x++)A[x]=o.charCodeAt(x);return d}function f(e,n){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="blob",o.onload=function(w){(this.status==200||this.status===0)&&n(this.response)},o.send()}function a(e,n){function o(x){var F=r(x),z=i(x);e.exifdata=F||{},e.iptcdata=z||{},n&&n.call(e)}if(e.src)if(/^data\:/i.test(e.src)){var w=s(e.src);o(w)}else if(/^blob\:/i.test(e.src)){var d=new FileReader;d.onload=function(x){o(x.target.result)},f(e.src,function(x){d.readAsArrayBuffer(x)})}else{var A=new XMLHttpRequest;A.onload=function(){this.status==200||this.status===0?o(A.response):n(new Error("Could not load image")),A=null},A.open("GET",e.src,!0),A.responseType="arraybuffer",A.send(null)}else if(window.FileReader&&(e instanceof window.Blob||e instanceof window.File)){var d=new FileReader;d.onload=function(F){o(F.target.result)},d.readAsArrayBuffer(e)}}function r(e){var n=new DataView(e);if(n.getUint8(0)!=255||n.getUint8(1)!=216)return!1;for(var o=2,w=e.byteLength,d;o<w;){if(n.getUint8(o)!=255)return!1;if(d=n.getUint8(o+1),d==225)return I(n,o+4,n.getUint16(o+2)-2);o+=2+n.getUint16(o+2)}}function i(e){var n=new DataView(e);if(n.getUint8(0)!=255||n.getUint8(1)!=216)return!1;for(var o=2,w=e.byteLength,d=function(z,U){return z.getUint8(U)===56&&z.getUint8(U+1)===66&&z.getUint8(U+2)===73&&z.getUint8(U+3)===77&&z.getUint8(U+4)===4&&z.getUint8(U+5)===4};o<w;){if(d(n,o)){var A=n.getUint8(o+7);A%2!==0&&(A+=1),A===0&&(A=4);var x=o+8+A,F=n.getUint16(o+6+A);return _(e,x,F)}o++}}var h={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function _(e,n,o){for(var w=new DataView(e),d={},A,x,F,z,U=n;U<n+o;)w.getUint8(U)===28&&w.getUint8(U+1)===2&&(z=w.getUint8(U+2),z in h&&(F=w.getInt16(U+3),x=h[z],A=p(w,U+5,F),d.hasOwnProperty(x)?d[x]instanceof Array?d[x].push(A):d[x]=[d[x],A]:d[x]=A)),U++;return d}function m(e,n,o,w,d){var A=e.getUint16(o,!d),x={},F,z,U;for(U=0;U<A;U++)F=o+U*12+2,z=w[e.getUint16(F,!d)],!z&&b&&console.log("Unknown tag: "+e.getUint16(F,!d)),x[z]=T(e,F,n,o,d);return x}function T(e,n,o,w,d){var A=e.getUint16(n+2,!d),x=e.getUint32(n+4,!d),F=e.getUint32(n+8,!d)+o,z,U,ve,M,W,ee;switch(A){case 1:case 7:if(x==1)return e.getUint8(n+8,!d);for(z=x>4?F:n+8,U=[],M=0;M<x;M++)U[M]=e.getUint8(z+M);return U;case 2:return z=x>4?F:n+8,p(e,z,x-1);case 3:if(x==1)return e.getUint16(n+8,!d);for(z=x>2?F:n+8,U=[],M=0;M<x;M++)U[M]=e.getUint16(z+2*M,!d);return U;case 4:if(x==1)return e.getUint32(n+8,!d);for(U=[],M=0;M<x;M++)U[M]=e.getUint32(F+4*M,!d);return U;case 5:if(x==1)return W=e.getUint32(F,!d),ee=e.getUint32(F+4,!d),ve=new Number(W/ee),ve.numerator=W,ve.denominator=ee,ve;for(U=[],M=0;M<x;M++)W=e.getUint32(F+8*M,!d),ee=e.getUint32(F+4+8*M,!d),U[M]=new Number(W/ee),U[M].numerator=W,U[M].denominator=ee;return U;case 9:if(x==1)return e.getInt32(n+8,!d);for(U=[],M=0;M<x;M++)U[M]=e.getInt32(F+4*M,!d);return U;case 10:if(x==1)return e.getInt32(F,!d)/e.getInt32(F+4,!d);for(U=[],M=0;M<x;M++)U[M]=e.getInt32(F+8*M,!d)/e.getInt32(F+4+8*M,!d);return U}}function p(e,n,o){var w="",d;for(d=n;d<n+o;d++)w+=String.fromCharCode(e.getUint8(d));return w}function I(e,n){if(p(e,n,4)!="Exif")return!1;var o,w,d,A,x,F=n+6;if(e.getUint16(F)==18761)o=!1;else if(e.getUint16(F)==19789)o=!0;else return!1;if(e.getUint16(F+2,!o)!=42)return!1;var z=e.getUint32(F+4,!o);if(z<8)return!1;if(w=m(e,F,F+z,y,o),w.ExifIFDPointer){A=m(e,F,F+w.ExifIFDPointer,D,o);for(d in A){switch(d){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":A[d]=l[d][A[d]];break;case"ExifVersion":case"FlashpixVersion":A[d]=String.fromCharCode(A[d][0],A[d][1],A[d][2],A[d][3]);break;case"ComponentsConfiguration":A[d]=l.Components[A[d][0]]+l.Components[A[d][1]]+l.Components[A[d][2]]+l.Components[A[d][3]];break}w[d]=A[d]}}if(w.GPSInfoIFDPointer){x=m(e,F,F+w.GPSInfoIFDPointer,N,o);for(d in x){switch(d){case"GPSVersionID":x[d]=x[d][0]+"."+x[d][1]+"."+x[d][2]+"."+x[d][3];break}w[d]=x[d]}}return w}c.getData=function(e,n){return(e instanceof Image||e instanceof HTMLImageElement)&&!e.complete?!1:(t(e)?n&&n.call(e):a(e,n),!0)},c.getTag=function(e,n){if(!!t(e))return e.exifdata[n]},c.getAllTags=function(e){if(!t(e))return{};var n,o=e.exifdata,w={};for(n in o)o.hasOwnProperty(n)&&(w[n]=o[n]);return w},c.pretty=function(e){if(!t(e))return"";var n,o=e.exifdata,w="";for(n in o)o.hasOwnProperty(n)&&(typeof o[n]=="object"?o[n]instanceof Number?w+=n+" : "+o[n]+" ["+o[n].numerator+"/"+o[n].denominator+`]\r
`:w+=n+" : ["+o[n].length+` values]\r
`:w+=n+" : "+o[n]+`\r
`);return w},c.readFromBinaryFile=function(e){return r(e)},S=[],R=function(){return c}.apply(g,S),R!==void 0&&(k.exports=R)}).call(this)},function(k,g,v){var S,R;(function(){function b(t){var s=t.naturalWidth,f=t.naturalHeight;if(s*f>1024*1024){var a=document.createElement("canvas");a.width=a.height=1;var r=a.getContext("2d");return r.drawImage(t,-s+1,0),r.getImageData(0,0,1,1).data[3]===0}else return!1}function c(t,s,f){var a=document.createElement("canvas");a.width=1,a.height=f;var r=a.getContext("2d");r.drawImage(t,0,0);for(var i=r.getImageData(0,0,1,f).data,h=0,_=f,m=f;m>h;){var T=i[(m-1)*4+3];T===0?_=m:h=m,m=_+h>>1}var p=m/f;return p===0?1:p}function D(t,s,f){var a=document.createElement("canvas");return y(t,a,s,f),a.toDataURL("image/jpeg",s.quality||.8)}function y(t,s,f,a){var r=t.naturalWidth,i=t.naturalHeight,h=f.width,_=f.height,m=s.getContext("2d");m.save(),N(s,m,h,_,f.orientation);var T=b(t);T&&(r/=2,i/=2);var p=1024,I=document.createElement("canvas");I.width=I.height=p;for(var e=I.getContext("2d"),n=a?c(t,r,i):1,o=Math.ceil(p*h/r),w=Math.ceil(p*_/i/n),d=0,A=0;d<i;){for(var x=0,F=0;x<r;)e.clearRect(0,0,p,p),e.drawImage(t,-x,-d),m.drawImage(I,0,0,p,p,F,A,o,w),x+=p,F+=o;d+=p,A+=w}m.restore(),I=e=null}function N(t,s,f,a,r){switch(r){case 5:case 6:case 7:case 8:t.width=a,t.height=f;break;default:t.width=f,t.height=a}switch(r){case 2:s.translate(f,0),s.scale(-1,1);break;case 3:s.translate(f,a),s.rotate(Math.PI);break;case 4:s.translate(0,a),s.scale(1,-1);break;case 5:s.rotate(.5*Math.PI),s.scale(1,-1);break;case 6:s.rotate(.5*Math.PI),s.translate(0,-a);break;case 7:s.rotate(.5*Math.PI),s.translate(f,-a),s.scale(-1,1);break;case 8:s.rotate(-.5*Math.PI),s.translate(-f,0);break}}function l(t){if(window.Blob&&t instanceof Blob){var s=new Image,f=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!f)throw Error("No createObjectURL function found to create blob url");s.src=f.createObjectURL(t),this.blob=t,t=s}if(!t.naturalWidth&&!t.naturalHeight){var a=this;t.onload=function(){var r=a.imageLoadListeners;if(r){a.imageLoadListeners=null;for(var i=0,h=r.length;i<h;i++)r[i]()}},this.imageLoadListeners=[]}this.srcImage=t}l.prototype.render=function(t,s,f){if(this.imageLoadListeners){var a=this;this.imageLoadListeners.push(function(){a.render(t,s,f)});return}s=s||{};var r=this.srcImage,i=r.src,h=i.length,_=r.naturalWidth,m=r.naturalHeight,T=s.width,p=s.height,I=s.maxWidth,e=s.maxHeight,n=this.blob&&this.blob.type==="image/jpeg"||i.indexOf("data:image/jpeg")===0||i.indexOf(".jpg")===h-4||i.indexOf(".jpeg")===h-5;T&&!p?p=m*T/_<<0:p&&!T?T=_*p/m<<0:(T=_,p=m),I&&T>I&&(T=I,p=m*T/_<<0),e&&p>e&&(p=e,T=_*p/m<<0);var o={width:T,height:p};for(var w in s)o[w]=s[w];var d=t.tagName.toLowerCase();d==="img"?t.src=D(this.srcImage,o,n):d==="canvas"&&y(this.srcImage,t,o,n),typeof this.onrender=="function"&&this.onrender(t),f&&f()},S=[],R=function(){return l}.apply(g,S),R!==void 0&&(k.exports=R)})()},function(k,g){function v(S){var R=Math.floor,b=new Array(64),c=new Array(64),D=new Array(64),y=new Array(64),N,l,t,s,f=new Array(65535),a=new Array(65535),r=new Array(64),i=new Array(64),h=[],_=0,m=7,T=new Array(64),p=new Array(64),I=new Array(64),e=new Array(256),n=new Array(2048),o,w=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],d=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],x=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],z=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],ve=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],M=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(u){for(var E=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],O=0;O<64;O++){var $=R((E[O]*u+50)/100);$<1?$=1:$>255&&($=255),b[w[O]]=$}for(var j=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],X=0;X<64;X++){var Y=R((j[X]*u+50)/100);Y<1?Y=1:Y>255&&(Y=255),c[w[X]]=Y}for(var K=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],oe=0,te=0;te<8;te++)for(var P=0;P<8;P++)D[oe]=1/(b[w[oe]]*K[te]*K[P]*8),y[oe]=1/(c[w[oe]]*K[te]*K[P]*8),oe++}function ee(u,E){for(var O=0,$=0,j=new Array,X=1;X<=16;X++){for(var Y=1;Y<=u[X];Y++)j[E[$]]=[],j[E[$]][0]=O,j[E[$]][1]=X,$++,O++;O*=2}return j}function ie(){N=ee(d,A),l=ee(z,U),t=ee(x,F),s=ee(ve,M)}function Pt(){for(var u=1,E=2,O=1;O<=15;O++){for(var $=u;$<E;$++)a[32767+$]=O,f[32767+$]=[],f[32767+$][1]=O,f[32767+$][0]=$;for(var j=-(E-1);j<=-u;j++)a[32767+j]=O,f[32767+j]=[],f[32767+j][1]=O,f[32767+j][0]=E-1+j;u<<=1,E<<=1}}function Rt(){for(var u=0;u<256;u++)n[u]=19595*u,n[u+256>>0]=38470*u,n[u+512>>0]=7471*u+32768,n[u+768>>0]=-11059*u,n[u+1024>>0]=-21709*u,n[u+1280>>0]=32768*u+8421375,n[u+1536>>0]=-27439*u,n[u+1792>>0]=-5329*u}function me(u){for(var E=u[0],O=u[1]-1;O>=0;)E&1<<O&&(_|=1<<m),O--,m--,m<0&&(_==255?(C(255),C(0)):C(_),m=7,_=0)}function C(u){h.push(e[u])}function ae(u){C(u>>8&255),C(u&255)}function Ft(u,E){var O,$,j,X,Y,K,oe,te,P=0,J;const ce=8,ge=64;for(J=0;J<ce;++J){O=u[P],$=u[P+1],j=u[P+2],X=u[P+3],Y=u[P+4],K=u[P+5],oe=u[P+6],te=u[P+7];var se=O+te,ne=O-te,_e=$+oe,de=$-oe,le=j+K,fe=j-K,he=X+Y,Re=X-Y,ye=se+he,De=se-he,we=_e+le,Ae=_e-le;u[P]=ye+we,u[P+4]=ye-we;var ze=(Ae+De)*.707106781;u[P+2]=De+ze,u[P+6]=De-ze,ye=Re+fe,we=fe+de,Ae=de+ne;var We=(ye-Ae)*.382683433,qe=.5411961*ye+We,Ve=1.306562965*Ae+We,Xe=we*.707106781,Ke=ne+Xe,Ye=ne-Xe;u[P+5]=Ye+qe,u[P+3]=Ye-qe,u[P+1]=Ke+Ve,u[P+7]=Ke-Ve,P+=8}for(P=0,J=0;J<ce;++J){O=u[P],$=u[P+8],j=u[P+16],X=u[P+24],Y=u[P+32],K=u[P+40],oe=u[P+48],te=u[P+56];var Qe=O+te,Ee=O-te,Je=$+oe,Ze=$-oe,et=j+K,tt=j-K,nt=X+Y,Ot=X-Y,Fe=Qe+nt,Oe=Qe-nt,Te=Je+et,ke=Je-et;u[P]=Fe+Te,u[P+32]=Fe-Te;var rt=(ke+Oe)*.707106781;u[P+16]=Oe+rt,u[P+48]=Oe-rt,Fe=Ot+tt,Te=tt+Ze,ke=Ze+Ee;var at=(Fe-ke)*.382683433,ot=.5411961*Fe+at,it=1.306562965*ke+at,st=Te*.707106781,lt=Ee+st,ut=Ee-st;u[P+40]=ut+ot,u[P+24]=ut-ot,u[P+8]=lt+it,u[P+56]=lt-it,P++}var Me;for(J=0;J<ge;++J)Me=u[J]*E[J],r[J]=Me>0?Me+.5|0:Me-.5|0;return r}function Ut(){ae(65504),ae(16),C(74),C(70),C(73),C(70),C(0),C(1),C(1),C(0),ae(1),ae(1),C(0),C(0)}function Tt(u,E){ae(65472),ae(17),C(8),ae(E),ae(u),C(3),C(1),C(17),C(0),C(2),C(17),C(1),C(3),C(17),C(1)}function kt(){ae(65499),ae(132),C(0);for(var u=0;u<64;u++)C(b[u]);C(1);for(var E=0;E<64;E++)C(c[E])}function Mt(){ae(65476),ae(418),C(0);for(var u=0;u<16;u++)C(d[u+1]);for(var E=0;E<=11;E++)C(A[E]);C(16);for(var O=0;O<16;O++)C(x[O+1]);for(var $=0;$<=161;$++)C(F[$]);C(1);for(var j=0;j<16;j++)C(z[j+1]);for(var X=0;X<=11;X++)C(U[X]);C(17);for(var Y=0;Y<16;Y++)C(ve[Y+1]);for(var K=0;K<=161;K++)C(M[K])}function Lt(){ae(65498),ae(12),C(3),C(1),C(0),C(2),C(17),C(3),C(17),C(0),C(63),C(0)}function Be(u,E,O,$,j){var X=j[0],Y=j[240],K;const oe=16,te=63,P=64;for(var J=Ft(u,E),ce=0;ce<P;++ce)i[w[ce]]=J[ce];var ge=i[0]-O;O=i[0],ge==0?me($[0]):(K=32767+ge,me($[a[K]]),me(f[K]));for(var se=63;se>0&&i[se]==0;se--);if(se==0)return me(X),O;for(var ne=1,_e;ne<=se;){for(var de=ne;i[ne]==0&&ne<=se;++ne);var le=ne-de;if(le>=oe){_e=le>>4;for(var fe=1;fe<=_e;++fe)me(Y);le=le&15}K=32767+i[ne],me(j[(le<<4)+a[K]]),me(f[K]),ne++}return se!=te&&me(X),O}function Bt(){for(var u=String.fromCharCode,E=0;E<256;E++)e[E]=u(E)}this.encode=function(u,E,O){var $=new Date().getTime();E&&He(E),h=new Array,_=0,m=7,ae(65496),Ut(),kt(),Tt(u.width,u.height),Mt(),Lt();var j=0,X=0,Y=0;_=0,m=7,this.encode.displayName="_encode_";for(var K=u.data,oe=u.width,te=u.height,P=oe*4,J,ce=0,ge,se,ne,_e,de,le,fe,he;ce<te;){for(J=0;J<P;){for(_e=P*ce+J,de=_e,le=-1,fe=0,he=0;he<64;he++)fe=he>>3,le=(he&7)*4,de=_e+fe*P+le,ce+fe>=te&&(de-=P*(ce+1+fe-te)),J+le>=P&&(de-=J+le-P+4),ge=K[de++],se=K[de++],ne=K[de++],T[he]=(n[ge]+n[se+256>>0]+n[ne+512>>0]>>16)-128,p[he]=(n[ge+768>>0]+n[se+1024>>0]+n[ne+1280>>0]>>16)-128,I[he]=(n[ge+1280>>0]+n[se+1536>>0]+n[ne+1792>>0]>>16)-128;j=Be(T,D,j,N,t),X=Be(p,y,X,l,s),Y=Be(I,y,Y,l,s),J+=32}ce+=8}if(m>=0){var Re=[];Re[1]=m+1,Re[0]=(1<<m+1)-1,me(Re)}if(ae(65497),O){for(var ye=h.length,De=new Uint8Array(ye),we=0;we<ye;we++)De[we]=h[we].charCodeAt();return h=[],new Date().getTime()-$,De}var Ae="data:image/jpeg;base64,"+btoa(h.join(""));return h=[],new Date().getTime()-$,Ae};function He(u){if(u<=0&&(u=1),u>100&&(u=100),o!=u){var E=0;u<50?E=Math.floor(5e3/u):E=Math.floor(200-u*2),W(E),o=u}}function Et(){var u=new Date().getTime();S||(S=50),Bt(),ie(),Pt(),Rt(),He(S),new Date().getTime()-u}Et()}k.exports=v},function(k,g,v){v.p=y("lrz")+"/",window.URL=window.URL||window.webkitURL;var S=v(1),R=v(5),b=v(6),c=function(l){var t=/OS (.*) like Mac OS X/g.exec(l),s=/Android (\d.*?);/g.exec(l)||/Android\/(\d.*?) /g.exec(l),f=t?+t.pop().replace(/-/g,"."):0;return{oldIOS:t?f<8:!1,newIOS:t?f>=13:!1,oldAndroid:s?+s.pop().substr(0,3)<4.5:!1,iOS:/\(i[^;]+;( U;)? CPU.+Mac OS X/.test(l),android:/Android/g.test(l),mQQBrowser:/MQQBrowser/g.test(l)}}(navigator.userAgent);function D(l,t){var s=this;if(!l)throw new Error("\u6CA1\u6709\u6536\u5230\u56FE\u7247\uFF0C\u53EF\u80FD\u7684\u89E3\u51B3\u65B9\u6848\uFF1Ahttps://github.com/think2011/localResizeIMG/issues/7");t=t||{},s.defaults={width:null,height:null,fieldName:"file",ingnoreOrientation:c.iOS?c.newIOS:!0,quality:.7},s.file=l;for(var f in t)!t.hasOwnProperty(f)||(s.defaults[f]=t[f]);return this.init()}D.prototype.init=function(){var l=this,t=l.file,s=typeof t=="string",f=/^data:/.test(t),a=new Image,r=document.createElement("canvas"),i=s?t:URL.createObjectURL(t);if(l.img=a,l.blob=i,l.canvas=r,s?l.fileName=f?"base64.jpg":t.split("/").pop():l.fileName=t.name,!document.createElement("canvas").getContext)throw new Error("\u6D4F\u89C8\u5668\u4E0D\u652F\u6301canvas");return new S(function(h,_){a.onerror=function(){var m=new Error("\u52A0\u8F7D\u56FE\u7247\u6587\u4EF6\u5931\u8D25");throw _(m),m},a.onload=function(){l._getBase64().then(function(m){if(m.length<10){var T=new Error("\u751F\u6210base64\u5931\u8D25");throw _(T),T}return m}).then(function(m){var T=null;typeof l.file=="object"&&m.length>l.file.size?(T=new FormData,t=l.file):(T=new R.FormData,t=N(m)),T.append(l.defaults.fieldName,t,l.fileName.replace(/\..+/g,".jpg")),h({formData:T,fileLen:+t.size,base64:m,base64Len:m.length,origin:l.file,file:t});for(var p in l)!l.hasOwnProperty(p)||(l[p]=null);URL.revokeObjectURL(l.blob)})},!f&&(a.crossOrigin="*"),a.src=i})},D.prototype._getBase64=function(){var l=this,t=l.img,s=l.file,f=l.canvas;return new S(function(a){try{b.getData(typeof s=="object"?s:t,function(){l.orientation=l.defaults.ingnoreOrientation?0:b.getTag(this,"Orientation"),l.resize=l._getResize(),l.ctx=f.getContext("2d"),f.width=l.resize.width,f.height=l.resize.height,l.ctx.fillStyle="#fff",l.ctx.fillRect(0,0,f.width,f.height),c.oldIOS?l._createBase64ForOldIOS().then(a):l._createBase64().then(a)})}catch(r){throw new Error(r)}})},D.prototype._createBase64ForOldIOS=function(){var l=this,t=l.img,s=l.canvas,f=l.defaults,a=l.orientation;return new S(function(r){(function(){var i=[v(7)];(function(h){var _=new h(t);"5678".indexOf(a)>-1?_.render(s,{width:s.height,height:s.width,orientation:a}):_.render(s,{width:s.width,height:s.height,orientation:a}),r(s.toDataURL("image/jpeg",f.quality))}).apply(null,i)})()})},D.prototype._createBase64=function(){var l=this,t=l.resize,s=l.img,f=l.canvas,a=l.ctx,r=l.defaults,i=l.orientation;switch(i){case 3:a.rotate(180*Math.PI/180),a.drawImage(s,-t.width,-t.height,t.width,t.height);break;case 6:a.rotate(90*Math.PI/180),a.drawImage(s,0,-t.width,t.height,t.width);break;case 8:a.rotate(270*Math.PI/180),a.drawImage(s,-t.height,0,t.height,t.width);break;case 2:a.translate(t.width,0),a.scale(-1,1),a.drawImage(s,0,0,t.width,t.height);break;case 4:a.translate(t.width,0),a.scale(-1,1),a.rotate(180*Math.PI/180),a.drawImage(s,-t.width,-t.height,t.width,t.height);break;case 5:a.translate(t.width,0),a.scale(-1,1),a.rotate(90*Math.PI/180),a.drawImage(s,0,-t.width,t.height,t.width);break;case 7:a.translate(t.width,0),a.scale(-1,1),a.rotate(270*Math.PI/180),a.drawImage(s,-t.height,0,t.height,t.width);break;default:a.drawImage(s,0,0,t.width,t.height)}return new S(function(h){c.oldAndroid||c.mQQBrowser||!navigator.userAgent?function(){var _=[v(8)];(function(m){var T=new m,p=a.getImageData(0,0,f.width,f.height);h(T.encode(p,r.quality*100))}).apply(null,_)}():h(f.toDataURL("image/jpeg",r.quality))})},D.prototype._getResize=function(){var l=this,t=l.img,s=l.defaults,f=s.width,a=s.height,r=l.orientation,i={width:t.width,height:t.height};if("5678".indexOf(r)>-1&&(i.width=t.height,i.height=t.width),i.width<f||i.height<a)return i;var h=i.width/i.height;for(f&&a?h>=f/a?i.width>f&&(i.width=f,i.height=Math.ceil(f/h)):i.height>a&&(i.height=a,i.width=Math.ceil(a*h)):f?f<i.width&&(i.width=f,i.height=Math.ceil(f/h)):a&&a<i.height&&(i.width=Math.ceil(a*h),i.height=a);i.width>=3264||i.height>=2448;)i.width*=.8,i.height*=.8;return i};function y(l){var t=null;return l?t=[].filter.call(document.scripts,function(s){return s.src.indexOf(l)!==-1})[0]:t=document.scripts[document.scripts.length-1],t?t.src.substr(0,t.src.lastIndexOf("/")):null}function N(l){var t;l.split(",")[0].indexOf("base64")>=0?t=atob(l.split(",")[1]):t=unescape(l.split(",")[1]);for(var s=l.split(",")[0].split(":")[1].split(";")[0],f=new Uint8Array(t.length),a=0;a<t.length;a++)f[a]=t.charCodeAt(a);return new R.Blob([f.buffer],{type:s})}window.lrz=function(l,t){return new D(l,t)},window.lrz.version="__packageJSON.version__",k.exports=window.lrz}])})})(Dt);var gn=Dt.exports,Le,_n=new Uint8Array(16);function wn(){if(!Le&&(Le=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Le))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Le(_n)}var xn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function yn(B){return typeof B=="string"&&xn.test(B)}var re=[];for(var Ge=0;Ge<256;++Ge)re.push((Ge+256).toString(16).substr(1));function Sn(B){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,k=(re[B[q+0]]+re[B[q+1]]+re[B[q+2]]+re[B[q+3]]+"-"+re[B[q+4]]+re[B[q+5]]+"-"+re[B[q+6]]+re[B[q+7]]+"-"+re[B[q+8]]+re[B[q+9]]+"-"+re[B[q+10]]+re[B[q+11]]+re[B[q+12]]+re[B[q+13]]+re[B[q+14]]+re[B[q+15]]).toLowerCase();if(!yn(k))throw TypeError("Stringified UUID is invalid");return k}function bn(B,q,k){B=B||{};var g=B.random||(B.rng||wn)();if(g[6]=g[6]&15|64,g[8]=g[8]&63|128,q){k=k||0;for(var v=0;v<16;++v)q[k+v]=g[v];return q}return Sn(g)}const At=$t("imgBed",{state:()=>({uploadImgList:[]}),actions:{setUploadImgList(B){this.uploadImgList.push(B)},updateImgList(B,q){this.updateImgList[q]=B}},getters:{imgList:B=>{const q=je(),{setting:k}=Ue(q);return B.uploadImgList.map(g=>(g.isMarkdown=k.value.isMarkdown,g))}},persist:{key:"PICR_IMGLIST",paths:["uploadImgList"],storage:localStorage}});const Cn={class:"upload-page-container"},In={class:"imgList"},Dn=Q(" \u5220\u9664 "),An=Q(" \u91CD\u547D\u540D "),Pn=Q(" \u5C5E\u6027 "),Rn={class:"filename"},Fn={class:"rename__input"},Un={class:"copy-external-link-box"},Tn={class:"markdown__icon-box"},kn=Q(" \u70B9\u51FB\u8F6C\u6362markdown\u683C\u5F0F\u5916\u94FE "),Mn={class:"copy__btn--box"},Ln=Q(" \u70B9\u51FB\u590D\u5236GitHub\u5916\u94FE "),Bn=["onClick"],En=Q(" \u70B9\u51FB\u590D\u5236CDN\u5916\u94FE "),On=["onClick"],Gn=Q(" \u56FE\u7247\u540D\u79F0\uFF1A"),$n=Q(" \u56FE\u7247\u5927\u5C0F\uFF1A"),Nn={setup(B){const q=At(),k=je(),{config:g}=Ue(k),v=xe(-1),S=xe([]),R=xe(!1),b=xe([]),{imgList:c}=Ue(q),D=a=>{c.value[a].isMarkdown=!c.value[a].isMarkdown},y=(a="github",r)=>{bt(a,c.value[r])},N=({key:a})=>{let[r,i]=a.split("-");switch(r){case"delete":let[h]=c.value.splice(i,1);Ce.success({content:`${Ie(h)}\u6587\u4EF6\u5220\u9664\u6210\u529F`});break;case"rename":v.value=Number(i),Nt(()=>{S.value[Number(i)].focus()});break;case"attribute":R.value=!0;break}},l=a=>b.value[a],t=(a,r)=>{b.value[a]=r},s=a=>{let r=Ie(c.value[a],!0);ct.confirm({title:"\u91CD\u547D\u540D\u63D0\u793A",icon:H(jt),content:`\u786E\u8BA4\u91CD\u547D\u540D\u4E3A${r}?`,okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",confirmLoading:!0,onOk:async()=>{try{let i=await It({login:g.value.login,repo:g.value.selectedRepo,branch:g.value.selectedBranch,dirs:g.value.dirMode===4?g.value.selectedDirList.join("/"):g.value.selectedDir,filename:r,message:`\u66F4\u65B0\u4E86${r}\u6587\u4EF6\uFF0C\u6765\u6E90\u4E8E${location.origin+location.pathname}`,content:c.value[a].compressFile.base64.split(",")[1],sha:c.value[a].sha});Ce.success({content:`\u66F4\u65B0${r}\u6210\u529F`}),c.value[a].sha=i.content.sha,c.value[a].filePrefixName=c.value[a].rename,c.value[a].githubUrl=dt.join(cn,`/${g.value.login}/${g.value.selectedRepo}/${g.value.selectedBranch}/${g.value.dirMode===4?g.value.selectedDirList.join("/"):g.value.selectedDir}/${r}`),c.value[a].jsdelivrUrl=dt.join(dn,`/${g.value.login}/${g.value.selectedRepo}@${g.value.selectedBranch}/${g.value.dirMode===4?g.value.selectedDirList.join("/"):g.value.selectedDir}/${r}`),q.updateImgList(c.value[a],a)}catch(i){Ce.error({content:i.message})}finally{v.value=-1}},onCancel:()=>{v.value=-1}})},f=a=>{S.value.push(a)};return(a,r)=>{const i=Ht,h=zt,_=Wt,m=_t,T=wt,p=xt,I=ct,e=qt;return Z(),Se("div",Cn,[L("ul",In,[H(e,null,{default:G(()=>[(Z(!0),Se(vt,null,mt(V(c),(n,o)=>(Z(),Se("li",{class:"imgItem",key:n.id},[L("div",{class:"more",ref_for:!0,ref:t.bind(null,o)},[H(_,{getPopupContainer:l.bind(null,o),trigger:"click",class:"more__btn",onClick:a.handleButtonClick},{overlay:G(()=>[H(h,{onClick:N},{default:G(()=>[(Z(),pe(i,{key:`delete-${o}`},{default:G(()=>[Dn]),_:2},1024)),(Z(),pe(i,{key:`rename-${o}`},{default:G(()=>[An]),_:2},1024)),(Z(),pe(i,{key:`attribute-${o}`},{default:G(()=>[Pn]),_:2},1024))]),_:2},1024)]),_:2},1032,["getPopupContainer","onClick"])],512),H(m,{class:"img",src:n.compressFile.base64},null,8,["src"]),v.value!==o?(Z(),pe(T,{key:0},{title:G(()=>[Q(ue(V(Ie)(n)),1)]),default:G(()=>[L("div",Rn,ue(V(Ie)(n)),1)]),_:2},1024)):Pe("",!0),$e(L("div",Fn,[H(p,{ref_for:!0,ref:f,onBlur:w=>s(o),value:n.rename,"onUpdate:value":w=>n.rename=w,placeholder:"\u8BF7\u8F93\u5165\u65B0\u7684\u540D\u5B57"},null,8,["onBlur","value","onUpdate:value"])],512),[[Ne,v.value===o]]),L("div",Un,[L("div",Tn,[H(T,null,{title:G(()=>[kn]),default:G(()=>[H(V(gt),{onClick:be(w=>D(o),["stop"]),class:"markdown__icon",component:n.isMarkdown?V(St):V(yt)},null,8,["onClick","component"])]),_:2},1024)]),L("div",Mn,[H(T,null,{title:G(()=>[Ln]),default:G(()=>[L("span",{onClick:be(w=>y("github",o),["stop"]),class:"copy__btn"},"GitHub",8,Bn)]),_:2},1024),H(T,null,{title:G(()=>[En]),default:G(()=>[L("span",{onClick:be(w=>y("cdn",o),["stop"]),class:"copy__btn"},"CDN",8,On)]),_:2},1024)])]),H(I,{centered:"",footer:null,visible:R.value,"onUpdate:visible":r[0]||(r[0]=w=>R.value=w),title:"\u56FE\u7247\u5C5E\u6027"},{default:G(()=>[L("div",null,[Gn,L("strong",null,ue(V(Ie)(V(c)[o])),1)]),L("div",null,[$n,L("strong",null,ue(V(un)(V(c)[o].compressFile.fileLen))+" KB",1)])]),_:2},1032,["visible"])]))),128))]),_:1})])])}}};var jn=Ct(Nn,[["__scopeId","data-v-58944a12"]]);const Hn=B=>(Kt("data-v-0f93cb99"),B=B(),Yt(),B),zn={class:"ant-upload-drag-icon"},Wn=Hn(()=>L("p",{class:"ant-upload-text"},"\u62D6\u62FD\u3001\u7C98\u8D34\u3001\u6216\u8005\u70B9\u51FB\u6B64\u5904\u4E0A\u4F20",-1)),qn={class:"repo__container"},Vn={key:0},Xn=Q(" \u4ED3\u5E93: "),Kn=Q(" \u5206\u652F: "),Yn=Q(" \u76EE\u5F55: "),Qn={key:1,class:"upload__count"},Jn={key:0,class:"upload__list"},Zn={class:"list__wrap"},er={class:"right__info"},tr={class:"top"},nr={class:"filename"},rr={class:"img__info"},ar={class:"bottom"},or={class:"rename-box"},ir={class:"hash__rename"},sr=Q("\u54C8\u5E0C\u5316"),lr=Q("\u91CD\u547D\u540D"),ur={class:"copy-external-link-box"},cr={class:"markdown__icon-box"},dr=Q(" \u70B9\u51FB\u8F6C\u6362markdown\u683C\u5F0F\u5916\u94FE "),fr={class:"copy__btn--box"},hr=Q(" \u70B9\u51FB\u590D\u5236GitHub\u5916\u94FE "),pr=["onClick"],vr=Q(" \u70B9\u51FB\u590D\u5236CDN\u5916\u94FE "),mr=["onClick"],gr=Q("\u91CD\u7F6E"),_r=Q("\u4E0A\u4F20"),wr={setup(B){const q=je(),k=xe(!1),g=xe(0),{config:v,setting:S}=Ue(q),R=xe(null),b=xe(!1),c=xe([]),D=At(),{uploadImgList:y}=Ue(D),N=()=>v.value.dirMode===4?v.value.selectedDirList.join("/"):v.value.selectedDir,l=async({file:p})=>{try{let I=hn(p.name),e=pt(p.name,S.value.isHash),n=null;if(S.value.isCompress&&(b.value=!0,n=await gn(p)),n.fileLen>1024*1024*5||p.size>1024*1024*5){Ce.warning({content:"\u6587\u4EF6\u4E0D\u80FD\u8D85\u8FC75M"});return}c.value.push({id:bn(),isHash:S.value.isHash,isRename:!1,rename:I,fileSubfixName:e,filePrefixName:I,uploadDate:Date.now(),isUpload:"no",compressFile:n,isMarkdown:S.value.isMarkdown,githubUrl:"",jsdelivrUrl:""})}catch(I){console.log(I)}finally{b.value=!1}},t=()=>{c.value=[]},s=async()=>{if(g.value===c.value.length){Ce.info({content:"\u5DF2\u5168\u90E8\u4E0A\u4E0A\u4F20\u6210\u529F\uFF0C\u65E0\u9700\u91CD\u590D\u4E0A\u4F20"});return}k.value=!0;for(let p=0;p<c.value.length;p++){if(c.value[p].isUpload==="yes")continue;let I=Ie(c.value[p]);try{c.value[p].isUpload="loading";let e=await It({login:v.value.login,repo:v.value.selectedRepo,branch:v.value.selectedBranch,dirs:v.value.dirMode===4?v.value.selectedDirList.join("/"):v.value.selectedDir,filename:I,message:`\u4E0A\u4F20\u4E86${I}\u6587\u4EF6\uFF0C\u6765\u6E90\u4E8E${location.origin+location.pathname}`,content:c.value[p].compressFile.base64.split(",")[1]});Ce.success({content:`${I}\u6587\u4EF6\u4E0A\u4F20\u6210\u529F`}),c.value[p].sha=e.content.sha,c.value[p].isUpload="yes",c.value[p].githubUrl=pn(I),c.value[p].jsdelivrUrl=vn(I),g.value++,D.setUploadImgList(c.value[p])}catch{}}k.value=!1},f=p=>{c.value.splice(p,1)},a=p=>{c.value[p].filePrefixName=c.value[p].rename,c.value[p].isRename=!1},r=p=>{c.value[p].isMarkdown=!c.value[p].isMarkdown},i=(p="github",I)=>{bt(p,c.value[I])},h=p=>{p.fileSubfixName=pt(p.compressFile.origin.name,p.isHash)},_=p=>{},m=p=>{p.isRename=!1},T=p=>{const I=(p.clipboardData||window.clipboardData).items;let e=null;if(!I||I.length===0){Ce.error({content:"\u5F53\u524D\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u672C\u5730"});return}for(let n=0;n<I.length;n++)if(I[n].type.indexOf("image")!==-1){e=I[n].getAsFile();break}if(!e){Ce.error({content:"\u7C98\u8D34\u5185\u5BB9\u975E\u56FE\u7247"});return}R.value.customRequest({file:e})};return(p,I)=>{const e=Qt,n=Jt,o=Zt,w=_t,d=wt,A=ln,x=xt,F=en,z=tn,U=nn,ve=rn,M=Vt;return Z(),pe(M,{onPaste:T,class:"container"},{default:G(()=>[V(y).length?(Z(),pe(jn,{key:0})):Pe("",!0),L("div",{class:ft([{"page-upload-right":V(y).length},"wrapper"])},[H(n,{spinning:b.value,tip:"\u6B63\u5728\u538B\u7F29\u4E2D"},{default:G(()=>[H(e,{beforeUpload:p.handleBeforeUpload,accept:V(fn),ref_key:"uploadRef",ref:R,name:"file",multiple:!0,customRequest:l,showUploadList:!1},{default:G(()=>[L("p",zn,[H(V(Xt))]),Wn]),_:1},8,["beforeUpload","accept"])]),_:1},8,["spinning"]),L("div",qn,[V(v).id?(Z(),Se("div",Vn,[L("span",null,[Xn,H(o,{color:"blue"},{default:G(()=>[Q(ue(V(v).selectedRepo),1)]),_:1})]),L("span",null,[Kn,H(o,{color:"blue"},{default:G(()=>[Q(ue(V(v).selectedBranch),1)]),_:1})]),L("span",null,[Yn,H(o,{color:"blue"},{default:G(()=>[Q(ue(N()),1)]),_:1})])])):Pe("",!0),c.value.length?(Z(),Se("div",Qn," \u5DF2\u4E0A\u4F20 "+ue(g.value)+" / "+ue(c.value.length),1)):Pe("",!0)]),c.value.length?(Z(),Se("div",Jn,[L("ul",Zn,[(Z(!0),Se(vt,null,mt(c.value,(W,ee)=>(Z(),Se("li",{key:W.id,class:"upload__list-item"},[L("div",{class:ft(["upload__icon",{success:W.isUpload}])},[W.isUpload==="no"?(Z(),pe(V(an),{key:0,rotate:"-45",style:{color:"white"}})):W.isUpload==="loading"?(Z(),pe(V(on),{key:1})):(Z(),pe(V(sn),{key:2,rotate:"-45"}))],2),H(w,{class:"img__box",src:W.compressFile.base64},null,8,["src"]),L("div",er,[L("div",tr,[H(d,null,{title:G(()=>[Q(ue(V(Ie)(W)),1)]),default:G(()=>[L("span",nr,ue(V(Ie)(W)),1)]),_:2},1024),L("div",rr,[L("span",null,[L("del",null,ue(W.compressFile.origin.size)+"KB",1)]),L("span",null,ue(W.compressFile.fileLen)+"KB",1),L("span",null,ue(V(mn)(W.uploadDate,"YYYY-MM-DD HH:mm:ss").value),1)])]),L("div",ar,[$e(L("div",or,[L("div",ir,[H(A,{onChange:ie=>h(W),checked:W.isHash,"onUpdate:checked":ie=>W.isHash=ie},{default:G(()=>[sr]),_:2},1032,["onChange","checked","onUpdate:checked"]),H(A,{onChange:ie=>_(),checked:W.isRename,"onUpdate:checked":ie=>W.isRename=ie},{default:G(()=>[lr]),_:2},1032,["onChange","checked","onUpdate:checked"]),W.isRename?(Z(),pe(x,{key:0,size:"small",style:{"max-width":"240px"},"allow-clear":"",onBlur:ie=>a(ee),value:W.rename,"onUpdate:value":ie=>W.rename=ie,placeholder:"\u8BF7\u8F93\u5165\u91CD\u65B0\u4FEE\u6539\u7684\u6587\u4EF6\u540D"},{addonAfter:G(()=>[H(V(ht),{onClick:be(ie=>m(W),["stop"])},null,8,["onClick"])]),_:2},1032,["onBlur","value","onUpdate:value"])):Pe("",!0)]),L("div",null,[H(V(ht),{class:"close__icon",onClick:be(ie=>f(ee),["stop"])},null,8,["onClick"])])],512),[[Ne,W.isUpload==="no"]]),$e(L("div",ur,[L("div",cr,[H(d,null,{title:G(()=>[dr]),default:G(()=>[H(V(gt),{onClick:be(ie=>r(ee),["stop"]),class:"markdown__icon",component:W.isMarkdown?V(St):V(yt)},null,8,["onClick","component"])]),_:2},1024)]),L("div",fr,[H(d,null,{title:G(()=>[hr]),default:G(()=>[L("span",{onClick:be(ie=>i("github",ee),["stop"]),class:"copy__btn"},"GitHub",8,pr)]),_:2},1024),H(d,null,{title:G(()=>[vr]),default:G(()=>[L("span",{onClick:be(ie=>i("cdn",ee),["stop"]),class:"copy__btn"},"CDN",8,mr)]),_:2},1024)])],512),[[Ne,W.isUpload==="yes"]])])])]))),128))])])):Pe("",!0),H(ve,{justify:"end"},{default:G(()=>[H(U,{span:4},{default:G(()=>[H(z,{class:"btns-box"},{default:G(()=>[H(F,{onClick:t},{default:G(()=>[gr]),_:1}),H(F,{loading:k.value,onClick:s,type:"primary"},{default:G(()=>[_r]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})],2)]),_:1})}}};var Ar=Ct(wr,[["__scopeId","data-v-0f93cb99"]]);export{Ar as default};
