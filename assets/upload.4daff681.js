import{ac as $t,q as Nt,A as Ue,f as xe,o as Z,i as ye,k as O,a as N,w as L,F as mt,j as gt,c as we,e as Y,t as ue,b as q,W as Pe,y as $e,z as Ne,ad as _t,B as Se,ae as jt,x as Ht,n as be,af as dt,ag as zt,p as ft,_ as Wt,M as qt,ah as Vt,ai as wt,a1 as xt,X as yt,aj as Xt,V as Kt,ak as Yt,al as ht,C as Qt,D as Jt,am as Zt,a5 as en,an as tn,G as nn,a4 as rn,ao as an,ap as on,aq as sn,ar as ln,as as un,at as pt,au as cn}from"./vendor.4554e321.js";/* empty css              *//* empty css              *//* empty css               */import{g as Ie,M as St,a as Ct,b as je,u as bt,d as dn,c as fn,j as hn,m as pn,e as vn,f as vt,h as mn,i as gn}from"./useCopExternalLinks.e24145de.js";import{a as _n}from"./index.3c48fa7e.js";import{u as He,_ as It,r as Dt}from"./index.b316be68.js";var At={exports:{}};(function(B,V){(function(w,v){B.exports=v()})($t,function(){return function(k){var w={};function v(S){if(w[S])return w[S].exports;var R=w[S]={exports:{},id:S,loaded:!1};return k[S].call(R.exports,R,R.exports,v),R.loaded=!0,R.exports}return v.m=k,v.c=w,v.p="",v(0)}([function(k,w,v){v(7),v(8),k.exports=v(9)},function(k,w,v){(function(S){(function(R){var C=typeof S=="function"&&S||function(n){setTimeout(n,1)};function f(n,a){return function(){n.apply(a,arguments)}}var D=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function y(n){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof n!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(n,f(s,this),f(t,this))}function j(n){var a=this;if(this._state===null){this._deferreds.push(n);return}C(function(){var d=a._state?n.onFulfilled:n.onRejected;if(d===null){(a._state?n.resolve:n.reject)(a._value);return}var _;try{_=d(a._value)}catch(m){n.reject(m);return}n.resolve(_)})}function s(n){try{if(n===this)throw new TypeError("A promise cannot be resolved with itself.");if(n&&(typeof n=="object"||typeof n=="function")){var a=n.then;if(typeof a=="function"){c(f(a,n),f(s,this),f(t,this));return}}this._state=!0,this._value=n,i.call(this)}catch(d){t.call(this,d)}}function t(n){this._state=!1,this._value=n,i.call(this)}function i(){for(var n=0,a=this._deferreds.length;n<a;n++)j.call(this,this._deferreds[n]);this._deferreds=null}function h(n,a,d,_){this.onFulfilled=typeof n=="function"?n:null,this.onRejected=typeof a=="function"?a:null,this.resolve=d,this.reject=_}function c(n,a,d){var _=!1;try{n(function(m){_||(_=!0,a(m))},function(m){_||(_=!0,d(m))})}catch(m){if(_)return;_=!0,d(m)}}y.prototype.catch=function(n){return this.then(null,n)},y.prototype.then=function(n,a){var d=this;return new y(function(_,m){j.call(d,new h(n,a,_,m))})},y.all=function(){var n=Array.prototype.slice.call(arguments.length===1&&D(arguments[0])?arguments[0]:arguments);return new y(function(a,d){if(n.length===0)return a([]);var _=n.length;function m(p,I){try{if(I&&(typeof I=="object"||typeof I=="function")){var e=I.then;if(typeof e=="function"){e.call(I,function(r){m(p,r)},d);return}}n[p]=I,--_===0&&a(n)}catch(r){d(r)}}for(var T=0;T<n.length;T++)m(T,n[T])})},y.resolve=function(n){return n&&typeof n=="object"&&n.constructor===y?n:new y(function(a){a(n)})},y.reject=function(n){return new y(function(a,d){d(n)})},y.race=function(n){return new y(function(a,d){for(var _=0,m=n.length;_<m;_++)n[_].then(a,d)})},y._setImmediateFn=function(a){C=a},y.prototype.always=function(n){var a=this.constructor;return this.then(function(d){return a.resolve(n()).then(function(){return d})},function(d){return a.resolve(n()).then(function(){throw d})})},typeof k!="undefined"&&k.exports?k.exports=y:R.Promise||(R.Promise=y)})(this)}).call(w,v(2).setImmediate)},function(k,w,v){(function(S){var R=typeof S!="undefined"&&S||typeof self!="undefined"&&self||window,C=Function.prototype.apply;w.setTimeout=function(){return new f(C.call(setTimeout,R,arguments),clearTimeout)},w.setInterval=function(){return new f(C.call(setInterval,R,arguments),clearInterval)},w.clearTimeout=w.clearInterval=function(D){D&&D.close()};function f(D,y){this._id=D,this._clearFn=y}f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(R,this._id)},w.enroll=function(D,y){clearTimeout(D._idleTimeoutId),D._idleTimeout=y},w.unenroll=function(D){clearTimeout(D._idleTimeoutId),D._idleTimeout=-1},w._unrefActive=w.active=function(D){clearTimeout(D._idleTimeoutId);var y=D._idleTimeout;y>=0&&(D._idleTimeoutId=setTimeout(function(){D._onTimeout&&D._onTimeout()},y))},v(3),w.setImmediate=typeof self!="undefined"&&self.setImmediate||typeof S!="undefined"&&S.setImmediate||this&&this.setImmediate,w.clearImmediate=typeof self!="undefined"&&self.clearImmediate||typeof S!="undefined"&&S.clearImmediate||this&&this.clearImmediate}).call(w,function(){return this}())},function(k,w,v){(function(S,R){(function(C,f){if(C.setImmediate)return;var D=1,y={},j=!1,s=C.document,t;function i(e){typeof e!="function"&&(e=new Function(""+e));for(var r=new Array(arguments.length-1),o=0;o<r.length;o++)r[o]=arguments[o+1];var g={callback:e,args:r};return y[D]=g,t(D),D++}function h(e){delete y[e]}function c(e){var r=e.callback,o=e.args;switch(o.length){case 0:r();break;case 1:r(o[0]);break;case 2:r(o[0],o[1]);break;case 3:r(o[0],o[1],o[2]);break;default:r.apply(f,o);break}}function n(e){if(j)setTimeout(n,0,e);else{var r=y[e];if(r){j=!0;try{c(r)}finally{h(e),j=!1}}}}function a(){t=function(e){R.nextTick(function(){n(e)})}}function d(){if(C.postMessage&&!C.importScripts){var e=!0,r=C.onmessage;return C.onmessage=function(){e=!1},C.postMessage("","*"),C.onmessage=r,e}}function _(){var e="setImmediate$"+Math.random()+"$",r=function(o){o.source===C&&typeof o.data=="string"&&o.data.indexOf(e)===0&&n(+o.data.slice(e.length))};C.addEventListener?C.addEventListener("message",r,!1):C.attachEvent("onmessage",r),t=function(o){C.postMessage(e+o,"*")}}function m(){var e=new MessageChannel;e.port1.onmessage=function(r){var o=r.data;n(o)},t=function(r){e.port2.postMessage(r)}}function T(){var e=s.documentElement;t=function(r){var o=s.createElement("script");o.onreadystatechange=function(){n(r),o.onreadystatechange=null,e.removeChild(o),o=null},e.appendChild(o)}}function p(){t=function(e){setTimeout(n,0,e)}}var I=Object.getPrototypeOf&&Object.getPrototypeOf(C);I=I&&I.setTimeout?I:C,{}.toString.call(C.process)==="[object process]"?a():d()?_():C.MessageChannel?m():s&&"onreadystatechange"in s.createElement("script")?T():p(),I.setImmediate=i,I.clearImmediate=h})(typeof self=="undefined"?typeof S=="undefined"?this:S:self)}).call(w,function(){return this}(),v(4))},function(k,w){var v=k.exports={},S,R;function C(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?S=setTimeout:S=C}catch{S=C}try{typeof clearTimeout=="function"?R=clearTimeout:R=f}catch{R=f}})();function D(d){if(S===setTimeout)return setTimeout(d,0);if((S===C||!S)&&setTimeout)return S=setTimeout,setTimeout(d,0);try{return S(d,0)}catch{try{return S.call(null,d,0)}catch{return S.call(this,d,0)}}}function y(d){if(R===clearTimeout)return clearTimeout(d);if((R===f||!R)&&clearTimeout)return R=clearTimeout,clearTimeout(d);try{return R(d)}catch{try{return R.call(null,d)}catch{return R.call(this,d)}}}var j=[],s=!1,t,i=-1;function h(){!s||!t||(s=!1,t.length?j=t.concat(j):i=-1,j.length&&c())}function c(){if(!s){var d=D(h);s=!0;for(var _=j.length;_;){for(t=j,j=[];++i<_;)t&&t[i].run();i=-1,_=j.length}t=null,s=!1,y(d)}}v.nextTick=function(d){var _=new Array(arguments.length-1);if(arguments.length>1)for(var m=1;m<arguments.length;m++)_[m-1]=arguments[m];j.push(new n(d,_)),j.length===1&&!s&&D(c)};function n(d,_){this.fun=d,this.array=_}n.prototype.run=function(){this.fun.apply(null,this.array)},v.title="browser",v.browser=!0,v.env={},v.argv=[],v.version="",v.versions={};function a(){}v.on=a,v.addListener=a,v.once=a,v.off=a,v.removeListener=a,v.removeAllListeners=a,v.emit=a,v.prependListener=a,v.prependOnceListener=a,v.listeners=function(d){return[]},v.binding=function(d){throw new Error("process.binding is not supported")},v.cwd=function(){return"/"},v.chdir=function(d){throw new Error("process.chdir is not supported")},v.umask=function(){return 0}},function(k,w){var v=function(){try{return new Blob,!0}catch{return!1}}()?window.Blob:function(C,f){var D=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MSBlobBuilder||window.MozBlobBuilder);return C.forEach(function(y){D.append(y)}),D.getBlob(f?f.type:void 0)};function S(){var C=~navigator.userAgent.indexOf("Android")&&~navigator.vendor.indexOf("Google")&&!~navigator.userAgent.indexOf("Chrome");return C&&navigator.userAgent.match(/AppleWebKit\/(\d+)/).pop()<=534||/MQQBrowser/g.test(navigator.userAgent)}var R=function(){var C=0;function f(){var D=this,y=[],j=Array(21).join("-")+(+new Date*(1e16*Math.random())).toString(36),s=XMLHttpRequest.prototype.send;this.getParts=function(){return y.toString()},this.append=function(t,i,h){y.push("--"+j+`\r
Content-Disposition: form-data; name="`+t+'"'),i instanceof Blob?(y.push('; filename="'+(h||"blob")+`"\r
Content-Type: `+i.type+`\r
\r
`),y.push(i)):y.push(`\r
\r
`+i),y.push(`\r
`)},C++,XMLHttpRequest.prototype.send=function(t){var i,h,c=this;t===D?(y.push("--"+j+`--\r
`),h=new v(y),i=new FileReader,i.onload=function(){s.call(c,i.result)},i.onerror=function(n){throw n},i.readAsArrayBuffer(h),this.setRequestHeader("Content-Type","multipart/form-data; boundary="+j),C--,C==0&&(XMLHttpRequest.prototype.send=s)):s.call(this,t)}}return f.prototype=Object.create(FormData.prototype),f}();k.exports={Blob:v,FormData:S()?R:FormData}},function(k,w,v){var S,R;(function(){var C=!1,f=function(e){if(e instanceof f)return e;if(!(this instanceof f))return new f(e);this.EXIFwrapped=e};typeof k!="undefined"&&k.exports&&(w=k.exports=f),w.EXIF=f;var D=f.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},y=f.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},j=f.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},s=f.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function t(e){return!!e.exifdata}function i(e,r){r=r||e.match(/^data\:([^\;]+)\;base64,/mi)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gmi,"");for(var o=atob(e),g=o.length,l=new ArrayBuffer(g),A=new Uint8Array(l),x=0;x<g;x++)A[x]=o.charCodeAt(x);return l}function h(e,r){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="blob",o.onload=function(g){(this.status==200||this.status===0)&&r(this.response)},o.send()}function c(e,r){function o(x){var F=n(x),z=a(x);e.exifdata=F||{},e.iptcdata=z||{},r&&r.call(e)}if(e.src)if(/^data\:/i.test(e.src)){var g=i(e.src);o(g)}else if(/^blob\:/i.test(e.src)){var l=new FileReader;l.onload=function(x){o(x.target.result)},h(e.src,function(x){l.readAsArrayBuffer(x)})}else{var A=new XMLHttpRequest;A.onload=function(){this.status==200||this.status===0?o(A.response):r(new Error("Could not load image")),A=null},A.open("GET",e.src,!0),A.responseType="arraybuffer",A.send(null)}else if(window.FileReader&&(e instanceof window.Blob||e instanceof window.File)){var l=new FileReader;l.onload=function(F){o(F.target.result)},l.readAsArrayBuffer(e)}}function n(e){var r=new DataView(e);if(r.getUint8(0)!=255||r.getUint8(1)!=216)return!1;for(var o=2,g=e.byteLength,l;o<g;){if(r.getUint8(o)!=255)return!1;if(l=r.getUint8(o+1),l==225)return I(r,o+4,r.getUint16(o+2)-2);o+=2+r.getUint16(o+2)}}function a(e){var r=new DataView(e);if(r.getUint8(0)!=255||r.getUint8(1)!=216)return!1;for(var o=2,g=e.byteLength,l=function(z,U){return z.getUint8(U)===56&&z.getUint8(U+1)===66&&z.getUint8(U+2)===73&&z.getUint8(U+3)===77&&z.getUint8(U+4)===4&&z.getUint8(U+5)===4};o<g;){if(l(r,o)){var A=r.getUint8(o+7);A%2!==0&&(A+=1),A===0&&(A=4);var x=o+8+A,F=r.getUint16(o+6+A);return _(e,x,F)}o++}}var d={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function _(e,r,o){for(var g=new DataView(e),l={},A,x,F,z,U=r;U<r+o;)g.getUint8(U)===28&&g.getUint8(U+1)===2&&(z=g.getUint8(U+2),z in d&&(F=g.getInt16(U+3),x=d[z],A=p(g,U+5,F),l.hasOwnProperty(x)?l[x]instanceof Array?l[x].push(A):l[x]=[l[x],A]:l[x]=A)),U++;return l}function m(e,r,o,g,l){var A=e.getUint16(o,!l),x={},F,z,U;for(U=0;U<A;U++)F=o+U*12+2,z=g[e.getUint16(F,!l)],!z&&C&&console.log("Unknown tag: "+e.getUint16(F,!l)),x[z]=T(e,F,r,o,l);return x}function T(e,r,o,g,l){var A=e.getUint16(r+2,!l),x=e.getUint32(r+4,!l),F=e.getUint32(r+8,!l)+o,z,U,pe,M,W,ee;switch(A){case 1:case 7:if(x==1)return e.getUint8(r+8,!l);for(z=x>4?F:r+8,U=[],M=0;M<x;M++)U[M]=e.getUint8(z+M);return U;case 2:return z=x>4?F:r+8,p(e,z,x-1);case 3:if(x==1)return e.getUint16(r+8,!l);for(z=x>2?F:r+8,U=[],M=0;M<x;M++)U[M]=e.getUint16(z+2*M,!l);return U;case 4:if(x==1)return e.getUint32(r+8,!l);for(U=[],M=0;M<x;M++)U[M]=e.getUint32(F+4*M,!l);return U;case 5:if(x==1)return W=e.getUint32(F,!l),ee=e.getUint32(F+4,!l),pe=new Number(W/ee),pe.numerator=W,pe.denominator=ee,pe;for(U=[],M=0;M<x;M++)W=e.getUint32(F+8*M,!l),ee=e.getUint32(F+4+8*M,!l),U[M]=new Number(W/ee),U[M].numerator=W,U[M].denominator=ee;return U;case 9:if(x==1)return e.getInt32(r+8,!l);for(U=[],M=0;M<x;M++)U[M]=e.getInt32(F+4*M,!l);return U;case 10:if(x==1)return e.getInt32(F,!l)/e.getInt32(F+4,!l);for(U=[],M=0;M<x;M++)U[M]=e.getInt32(F+8*M,!l)/e.getInt32(F+4+8*M,!l);return U}}function p(e,r,o){var g="",l;for(l=r;l<r+o;l++)g+=String.fromCharCode(e.getUint8(l));return g}function I(e,r){if(p(e,r,4)!="Exif")return!1;var o,g,l,A,x,F=r+6;if(e.getUint16(F)==18761)o=!1;else if(e.getUint16(F)==19789)o=!0;else return!1;if(e.getUint16(F+2,!o)!=42)return!1;var z=e.getUint32(F+4,!o);if(z<8)return!1;if(g=m(e,F,F+z,y,o),g.ExifIFDPointer){A=m(e,F,F+g.ExifIFDPointer,D,o);for(l in A){switch(l){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":A[l]=s[l][A[l]];break;case"ExifVersion":case"FlashpixVersion":A[l]=String.fromCharCode(A[l][0],A[l][1],A[l][2],A[l][3]);break;case"ComponentsConfiguration":A[l]=s.Components[A[l][0]]+s.Components[A[l][1]]+s.Components[A[l][2]]+s.Components[A[l][3]];break}g[l]=A[l]}}if(g.GPSInfoIFDPointer){x=m(e,F,F+g.GPSInfoIFDPointer,j,o);for(l in x){switch(l){case"GPSVersionID":x[l]=x[l][0]+"."+x[l][1]+"."+x[l][2]+"."+x[l][3];break}g[l]=x[l]}}return g}f.getData=function(e,r){return(e instanceof Image||e instanceof HTMLImageElement)&&!e.complete?!1:(t(e)?r&&r.call(e):c(e,r),!0)},f.getTag=function(e,r){if(!!t(e))return e.exifdata[r]},f.getAllTags=function(e){if(!t(e))return{};var r,o=e.exifdata,g={};for(r in o)o.hasOwnProperty(r)&&(g[r]=o[r]);return g},f.pretty=function(e){if(!t(e))return"";var r,o=e.exifdata,g="";for(r in o)o.hasOwnProperty(r)&&(typeof o[r]=="object"?o[r]instanceof Number?g+=r+" : "+o[r]+" ["+o[r].numerator+"/"+o[r].denominator+`]\r
`:g+=r+" : ["+o[r].length+` values]\r
`:g+=r+" : "+o[r]+`\r
`);return g},f.readFromBinaryFile=function(e){return n(e)},S=[],R=function(){return f}.apply(w,S),R!==void 0&&(k.exports=R)}).call(this)},function(k,w,v){var S,R;(function(){function C(t){var i=t.naturalWidth,h=t.naturalHeight;if(i*h>1024*1024){var c=document.createElement("canvas");c.width=c.height=1;var n=c.getContext("2d");return n.drawImage(t,-i+1,0),n.getImageData(0,0,1,1).data[3]===0}else return!1}function f(t,i,h){var c=document.createElement("canvas");c.width=1,c.height=h;var n=c.getContext("2d");n.drawImage(t,0,0);for(var a=n.getImageData(0,0,1,h).data,d=0,_=h,m=h;m>d;){var T=a[(m-1)*4+3];T===0?_=m:d=m,m=_+d>>1}var p=m/h;return p===0?1:p}function D(t,i,h){var c=document.createElement("canvas");return y(t,c,i,h),c.toDataURL("image/jpeg",i.quality||.8)}function y(t,i,h,c){var n=t.naturalWidth,a=t.naturalHeight,d=h.width,_=h.height,m=i.getContext("2d");m.save(),j(i,m,d,_,h.orientation);var T=C(t);T&&(n/=2,a/=2);var p=1024,I=document.createElement("canvas");I.width=I.height=p;for(var e=I.getContext("2d"),r=c?f(t,n,a):1,o=Math.ceil(p*d/n),g=Math.ceil(p*_/a/r),l=0,A=0;l<a;){for(var x=0,F=0;x<n;)e.clearRect(0,0,p,p),e.drawImage(t,-x,-l),m.drawImage(I,0,0,p,p,F,A,o,g),x+=p,F+=o;l+=p,A+=g}m.restore(),I=e=null}function j(t,i,h,c,n){switch(n){case 5:case 6:case 7:case 8:t.width=c,t.height=h;break;default:t.width=h,t.height=c}switch(n){case 2:i.translate(h,0),i.scale(-1,1);break;case 3:i.translate(h,c),i.rotate(Math.PI);break;case 4:i.translate(0,c),i.scale(1,-1);break;case 5:i.rotate(.5*Math.PI),i.scale(1,-1);break;case 6:i.rotate(.5*Math.PI),i.translate(0,-c);break;case 7:i.rotate(.5*Math.PI),i.translate(h,-c),i.scale(-1,1);break;case 8:i.rotate(-.5*Math.PI),i.translate(-h,0);break}}function s(t){if(window.Blob&&t instanceof Blob){var i=new Image,h=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!h)throw Error("No createObjectURL function found to create blob url");i.src=h.createObjectURL(t),this.blob=t,t=i}if(!t.naturalWidth&&!t.naturalHeight){var c=this;t.onload=function(){var n=c.imageLoadListeners;if(n){c.imageLoadListeners=null;for(var a=0,d=n.length;a<d;a++)n[a]()}},this.imageLoadListeners=[]}this.srcImage=t}s.prototype.render=function(t,i,h){if(this.imageLoadListeners){var c=this;this.imageLoadListeners.push(function(){c.render(t,i,h)});return}i=i||{};var n=this.srcImage,a=n.src,d=a.length,_=n.naturalWidth,m=n.naturalHeight,T=i.width,p=i.height,I=i.maxWidth,e=i.maxHeight,r=this.blob&&this.blob.type==="image/jpeg"||a.indexOf("data:image/jpeg")===0||a.indexOf(".jpg")===d-4||a.indexOf(".jpeg")===d-5;T&&!p?p=m*T/_<<0:p&&!T?T=_*p/m<<0:(T=_,p=m),I&&T>I&&(T=I,p=m*T/_<<0),e&&p>e&&(p=e,T=_*p/m<<0);var o={width:T,height:p};for(var g in i)o[g]=i[g];var l=t.tagName.toLowerCase();l==="img"?t.src=D(this.srcImage,o,r):l==="canvas"&&y(this.srcImage,t,o,r),typeof this.onrender=="function"&&this.onrender(t),h&&h()},S=[],R=function(){return s}.apply(w,S),R!==void 0&&(k.exports=R)})()},function(k,w){function v(S){var R=Math.floor,C=new Array(64),f=new Array(64),D=new Array(64),y=new Array(64),j,s,t,i,h=new Array(65535),c=new Array(65535),n=new Array(64),a=new Array(64),d=[],_=0,m=7,T=new Array(64),p=new Array(64),I=new Array(64),e=new Array(256),r=new Array(2048),o,g=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],l=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],x=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],z=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],pe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],M=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(u){for(var E=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var $=R((E[G]*u+50)/100);$<1?$=1:$>255&&($=255),C[g[G]]=$}for(var H=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],X=0;X<64;X++){var Q=R((H[X]*u+50)/100);Q<1?Q=1:Q>255&&(Q=255),f[g[X]]=Q}for(var K=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],oe=0,te=0;te<8;te++)for(var P=0;P<8;P++)D[oe]=1/(C[g[oe]]*K[te]*K[P]*8),y[oe]=1/(f[g[oe]]*K[te]*K[P]*8),oe++}function ee(u,E){for(var G=0,$=0,H=new Array,X=1;X<=16;X++){for(var Q=1;Q<=u[X];Q++)H[E[$]]=[],H[E[$]][0]=G,H[E[$]][1]=X,$++,G++;G*=2}return H}function ie(){j=ee(l,A),s=ee(z,U),t=ee(x,F),i=ee(pe,M)}function Rt(){for(var u=1,E=2,G=1;G<=15;G++){for(var $=u;$<E;$++)c[32767+$]=G,h[32767+$]=[],h[32767+$][1]=G,h[32767+$][0]=$;for(var H=-(E-1);H<=-u;H++)c[32767+H]=G,h[32767+H]=[],h[32767+H][1]=G,h[32767+H][0]=E-1+H;u<<=1,E<<=1}}function Ft(){for(var u=0;u<256;u++)r[u]=19595*u,r[u+256>>0]=38470*u,r[u+512>>0]=7471*u+32768,r[u+768>>0]=-11059*u,r[u+1024>>0]=-21709*u,r[u+1280>>0]=32768*u+8421375,r[u+1536>>0]=-27439*u,r[u+1792>>0]=-5329*u}function ve(u){for(var E=u[0],G=u[1]-1;G>=0;)E&1<<G&&(_|=1<<m),G--,m--,m<0&&(_==255?(b(255),b(0)):b(_),m=7,_=0)}function b(u){d.push(e[u])}function ae(u){b(u>>8&255),b(u&255)}function Ut(u,E){var G,$,H,X,Q,K,oe,te,P=0,J;const ce=8,me=64;for(J=0;J<ce;++J){G=u[P],$=u[P+1],H=u[P+2],X=u[P+3],Q=u[P+4],K=u[P+5],oe=u[P+6],te=u[P+7];var se=G+te,ne=G-te,ge=$+oe,de=$-oe,le=H+K,fe=H-K,he=X+Q,Re=X-Q,Ce=se+he,De=se-he,_e=ge+le,Ae=ge-le;u[P]=Ce+_e,u[P+4]=Ce-_e;var We=(Ae+De)*.707106781;u[P+2]=De+We,u[P+6]=De-We,Ce=Re+fe,_e=fe+de,Ae=de+ne;var qe=(Ce-Ae)*.382683433,Ve=.5411961*Ce+qe,Xe=1.306562965*Ae+qe,Ke=_e*.707106781,Ye=ne+Ke,Qe=ne-Ke;u[P+5]=Qe+Ve,u[P+3]=Qe-Ve,u[P+1]=Ye+Xe,u[P+7]=Ye-Xe,P+=8}for(P=0,J=0;J<ce;++J){G=u[P],$=u[P+8],H=u[P+16],X=u[P+24],Q=u[P+32],K=u[P+40],oe=u[P+48],te=u[P+56];var Je=G+te,Ee=G-te,Ze=$+oe,et=$-oe,tt=H+K,nt=H-K,rt=X+Q,Gt=X-Q,Fe=Je+rt,Oe=Je-rt,ke=Ze+tt,Te=Ze-tt;u[P]=Fe+ke,u[P+32]=Fe-ke;var at=(Te+Oe)*.707106781;u[P+16]=Oe+at,u[P+48]=Oe-at,Fe=Gt+nt,ke=nt+et,Te=et+Ee;var ot=(Fe-Te)*.382683433,it=.5411961*Fe+ot,st=1.306562965*Te+ot,lt=ke*.707106781,ut=Ee+lt,ct=Ee-lt;u[P+40]=ct+it,u[P+24]=ct-it,u[P+8]=ut+st,u[P+56]=ut-st,P++}var Me;for(J=0;J<me;++J)Me=u[J]*E[J],n[J]=Me>0?Me+.5|0:Me-.5|0;return n}function kt(){ae(65504),ae(16),b(74),b(70),b(73),b(70),b(0),b(1),b(1),b(0),ae(1),ae(1),b(0),b(0)}function Tt(u,E){ae(65472),ae(17),b(8),ae(E),ae(u),b(3),b(1),b(17),b(0),b(2),b(17),b(1),b(3),b(17),b(1)}function Mt(){ae(65499),ae(132),b(0);for(var u=0;u<64;u++)b(C[u]);b(1);for(var E=0;E<64;E++)b(f[E])}function Lt(){ae(65476),ae(418),b(0);for(var u=0;u<16;u++)b(l[u+1]);for(var E=0;E<=11;E++)b(A[E]);b(16);for(var G=0;G<16;G++)b(x[G+1]);for(var $=0;$<=161;$++)b(F[$]);b(1);for(var H=0;H<16;H++)b(z[H+1]);for(var X=0;X<=11;X++)b(U[X]);b(17);for(var Q=0;Q<16;Q++)b(pe[Q+1]);for(var K=0;K<=161;K++)b(M[K])}function Bt(){ae(65498),ae(12),b(3),b(1),b(0),b(2),b(17),b(3),b(17),b(0),b(63),b(0)}function Be(u,E,G,$,H){var X=H[0],Q=H[240],K;const oe=16,te=63,P=64;for(var J=Ut(u,E),ce=0;ce<P;++ce)a[g[ce]]=J[ce];var me=a[0]-G;G=a[0],me==0?ve($[0]):(K=32767+me,ve($[c[K]]),ve(h[K]));for(var se=63;se>0&&a[se]==0;se--);if(se==0)return ve(X),G;for(var ne=1,ge;ne<=se;){for(var de=ne;a[ne]==0&&ne<=se;++ne);var le=ne-de;if(le>=oe){ge=le>>4;for(var fe=1;fe<=ge;++fe)ve(Q);le=le&15}K=32767+a[ne],ve(H[(le<<4)+c[K]]),ve(h[K]),ne++}return se!=te&&ve(X),G}function Et(){for(var u=String.fromCharCode,E=0;E<256;E++)e[E]=u(E)}this.encode=function(u,E,G){var $=new Date().getTime();E&&ze(E),d=new Array,_=0,m=7,ae(65496),kt(),Mt(),Tt(u.width,u.height),Lt(),Bt();var H=0,X=0,Q=0;_=0,m=7,this.encode.displayName="_encode_";for(var K=u.data,oe=u.width,te=u.height,P=oe*4,J,ce=0,me,se,ne,ge,de,le,fe,he;ce<te;){for(J=0;J<P;){for(ge=P*ce+J,de=ge,le=-1,fe=0,he=0;he<64;he++)fe=he>>3,le=(he&7)*4,de=ge+fe*P+le,ce+fe>=te&&(de-=P*(ce+1+fe-te)),J+le>=P&&(de-=J+le-P+4),me=K[de++],se=K[de++],ne=K[de++],T[he]=(r[me]+r[se+256>>0]+r[ne+512>>0]>>16)-128,p[he]=(r[me+768>>0]+r[se+1024>>0]+r[ne+1280>>0]>>16)-128,I[he]=(r[me+1280>>0]+r[se+1536>>0]+r[ne+1792>>0]>>16)-128;H=Be(T,D,H,j,t),X=Be(p,y,X,s,i),Q=Be(I,y,Q,s,i),J+=32}ce+=8}if(m>=0){var Re=[];Re[1]=m+1,Re[0]=(1<<m+1)-1,ve(Re)}if(ae(65497),G){for(var Ce=d.length,De=new Uint8Array(Ce),_e=0;_e<Ce;_e++)De[_e]=d[_e].charCodeAt();return d=[],new Date().getTime()-$,De}var Ae="data:image/jpeg;base64,"+btoa(d.join(""));return d=[],new Date().getTime()-$,Ae};function ze(u){if(u<=0&&(u=1),u>100&&(u=100),o!=u){var E=0;u<50?E=Math.floor(5e3/u):E=Math.floor(200-u*2),W(E),o=u}}function Ot(){var u=new Date().getTime();S||(S=50),Et(),ie(),Rt(),Ft(),ze(S),new Date().getTime()-u}Ot()}k.exports=v},function(k,w,v){v.p=y("lrz")+"/",window.URL=window.URL||window.webkitURL;var S=v(1),R=v(5),C=v(6),f=function(s){var t=/OS (.*) like Mac OS X/g.exec(s),i=/Android (\d.*?);/g.exec(s)||/Android\/(\d.*?) /g.exec(s),h=t?+t.pop().replace(/-/g,"."):0;return{oldIOS:t?h<8:!1,newIOS:t?h>=13:!1,oldAndroid:i?+i.pop().substr(0,3)<4.5:!1,iOS:/\(i[^;]+;( U;)? CPU.+Mac OS X/.test(s),android:/Android/g.test(s),mQQBrowser:/MQQBrowser/g.test(s)}}(navigator.userAgent);function D(s,t){var i=this;if(!s)throw new Error("\u6CA1\u6709\u6536\u5230\u56FE\u7247\uFF0C\u53EF\u80FD\u7684\u89E3\u51B3\u65B9\u6848\uFF1Ahttps://github.com/think2011/localResizeIMG/issues/7");t=t||{},i.defaults={width:null,height:null,fieldName:"file",ingnoreOrientation:f.iOS?f.newIOS:!0,quality:.7},i.file=s;for(var h in t)!t.hasOwnProperty(h)||(i.defaults[h]=t[h]);return this.init()}D.prototype.init=function(){var s=this,t=s.file,i=typeof t=="string",h=/^data:/.test(t),c=new Image,n=document.createElement("canvas"),a=i?t:URL.createObjectURL(t);if(s.img=c,s.blob=a,s.canvas=n,i?s.fileName=h?"base64.jpg":t.split("/").pop():s.fileName=t.name,!document.createElement("canvas").getContext)throw new Error("\u6D4F\u89C8\u5668\u4E0D\u652F\u6301canvas");return new S(function(d,_){c.onerror=function(){var m=new Error("\u52A0\u8F7D\u56FE\u7247\u6587\u4EF6\u5931\u8D25");throw _(m),m},c.onload=function(){s._getBase64().then(function(m){if(m.length<10){var T=new Error("\u751F\u6210base64\u5931\u8D25");throw _(T),T}return m}).then(function(m){var T=null;typeof s.file=="object"&&m.length>s.file.size?(T=new FormData,t=s.file):(T=new R.FormData,t=j(m)),T.append(s.defaults.fieldName,t,s.fileName.replace(/\..+/g,".jpg")),d({formData:T,fileLen:+t.size,base64:m,base64Len:m.length,origin:s.file,file:t});for(var p in s)!s.hasOwnProperty(p)||(s[p]=null);URL.revokeObjectURL(s.blob)})},!h&&(c.crossOrigin="*"),c.src=a})},D.prototype._getBase64=function(){var s=this,t=s.img,i=s.file,h=s.canvas;return new S(function(c){try{C.getData(typeof i=="object"?i:t,function(){s.orientation=s.defaults.ingnoreOrientation?0:C.getTag(this,"Orientation"),s.resize=s._getResize(),s.ctx=h.getContext("2d"),h.width=s.resize.width,h.height=s.resize.height,s.ctx.fillStyle="#fff",s.ctx.fillRect(0,0,h.width,h.height),f.oldIOS?s._createBase64ForOldIOS().then(c):s._createBase64().then(c)})}catch(n){throw new Error(n)}})},D.prototype._createBase64ForOldIOS=function(){var s=this,t=s.img,i=s.canvas,h=s.defaults,c=s.orientation;return new S(function(n){(function(){var a=[v(7)];(function(d){var _=new d(t);"5678".indexOf(c)>-1?_.render(i,{width:i.height,height:i.width,orientation:c}):_.render(i,{width:i.width,height:i.height,orientation:c}),n(i.toDataURL("image/jpeg",h.quality))}).apply(null,a)})()})},D.prototype._createBase64=function(){var s=this,t=s.resize,i=s.img,h=s.canvas,c=s.ctx,n=s.defaults,a=s.orientation;switch(a){case 3:c.rotate(180*Math.PI/180),c.drawImage(i,-t.width,-t.height,t.width,t.height);break;case 6:c.rotate(90*Math.PI/180),c.drawImage(i,0,-t.width,t.height,t.width);break;case 8:c.rotate(270*Math.PI/180),c.drawImage(i,-t.height,0,t.height,t.width);break;case 2:c.translate(t.width,0),c.scale(-1,1),c.drawImage(i,0,0,t.width,t.height);break;case 4:c.translate(t.width,0),c.scale(-1,1),c.rotate(180*Math.PI/180),c.drawImage(i,-t.width,-t.height,t.width,t.height);break;case 5:c.translate(t.width,0),c.scale(-1,1),c.rotate(90*Math.PI/180),c.drawImage(i,0,-t.width,t.height,t.width);break;case 7:c.translate(t.width,0),c.scale(-1,1),c.rotate(270*Math.PI/180),c.drawImage(i,-t.height,0,t.height,t.width);break;default:c.drawImage(i,0,0,t.width,t.height)}return new S(function(d){f.oldAndroid||f.mQQBrowser||!navigator.userAgent?function(){var _=[v(8)];(function(m){var T=new m,p=c.getImageData(0,0,h.width,h.height);d(T.encode(p,n.quality*100))}).apply(null,_)}():d(h.toDataURL("image/jpeg",n.quality))})},D.prototype._getResize=function(){var s=this,t=s.img,i=s.defaults,h=i.width,c=i.height,n=s.orientation,a={width:t.width,height:t.height};if("5678".indexOf(n)>-1&&(a.width=t.height,a.height=t.width),a.width<h||a.height<c)return a;var d=a.width/a.height;for(h&&c?d>=h/c?a.width>h&&(a.width=h,a.height=Math.ceil(h/d)):a.height>c&&(a.height=c,a.width=Math.ceil(c*d)):h?h<a.width&&(a.width=h,a.height=Math.ceil(h/d)):c&&c<a.height&&(a.width=Math.ceil(c*d),a.height=c);a.width>=3264||a.height>=2448;)a.width*=.8,a.height*=.8;return a};function y(s){var t=null;return s?t=[].filter.call(document.scripts,function(i){return i.src.indexOf(s)!==-1})[0]:t=document.scripts[document.scripts.length-1],t?t.src.substr(0,t.src.lastIndexOf("/")):null}function j(s){var t;s.split(",")[0].indexOf("base64")>=0?t=atob(s.split(",")[1]):t=unescape(s.split(",")[1]);for(var i=s.split(",")[0].split(":")[1].split(";")[0],h=new Uint8Array(t.length),c=0;c<t.length;c++)h[c]=t.charCodeAt(c);return new R.Blob([h.buffer],{type:i})}window.lrz=function(s,t){return new D(s,t)},window.lrz.version="__packageJSON.version__",k.exports=window.lrz}])})})(At);var wn=At.exports,Le,xn=new Uint8Array(16);function yn(){if(!Le&&(Le=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Le))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Le(xn)}var Sn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Cn(B){return typeof B=="string"&&Sn.test(B)}var re=[];for(var Ge=0;Ge<256;++Ge)re.push((Ge+256).toString(16).substr(1));function bn(B){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,k=(re[B[V+0]]+re[B[V+1]]+re[B[V+2]]+re[B[V+3]]+"-"+re[B[V+4]]+re[B[V+5]]+"-"+re[B[V+6]]+re[B[V+7]]+"-"+re[B[V+8]]+re[B[V+9]]+"-"+re[B[V+10]]+re[B[V+11]]+re[B[V+12]]+re[B[V+13]]+re[B[V+14]]+re[B[V+15]]).toLowerCase();if(!Cn(k))throw TypeError("Stringified UUID is invalid");return k}function In(B,V,k){B=B||{};var w=B.random||(B.rng||yn)();if(w[6]=w[6]&15|64,w[8]=w[8]&63|128,V){k=k||0;for(var v=0;v<16;++v)V[k+v]=w[v];return V}return bn(w)}const Pt=Nt("imgBed",{state:()=>({uploadImgList:[]}),actions:{setUploadImgList(B){this.uploadImgList.push(B)},updateImgList(B,V){this.updateImgList[V]=B}},getters:{imgList:B=>{const V=He(),{setting:k}=Ue(V);return B.uploadImgList.map(w=>(w.isMarkdown=k.value.isMarkdown,w))}},persist:{key:"PICR_IMGLIST",paths:["uploadImgList"],storage:localStorage}});const Dn={class:"upload-page-container"},An={class:"imgList"},Pn=Y(" \u5220\u9664 "),Rn=Y(" \u91CD\u547D\u540D "),Fn=Y(" \u5C5E\u6027 "),Un={key:0,class:"filename"},kn={class:"rename__input"},Tn={class:"copy-external-link-box"},Mn={class:"markdown__icon-box"},Ln=Y(" \u70B9\u51FB\u8F6C\u6362markdown\u683C\u5F0F\u5916\u94FE "),Bn={class:"copy__btn--box"},En=Y(" \u70B9\u51FB\u4E0B\u8F7D "),On=Y(" \u70B9\u51FB\u590D\u5236GitHub\u5916\u94FE "),Gn=["onClick"],$n=Y(" \u70B9\u51FB\u590D\u5236CDN\u5916\u94FE "),Nn=["onClick"],jn=Y(" \u56FE\u7247\u540D\u79F0\uFF1A"),Hn=Y(" \u56FE\u7247\u5927\u5C0F\uFF1A"),zn={setup(B){const V=Pt(),k=He(),{config:w}=Ue(k),v=xe(-1),S=xe([]),R=xe(!1),C=xe([]),{imgList:f}=Ue(V),D=n=>{f.value[n].isMarkdown=!f.value[n].isMarkdown},y=(n="github",a)=>{bt(n,f.value[a])},j=({key:n})=>{let[a,d]=n.split("-");switch(a){case"delete":let[_]=f.value.splice(d,1);be.success({content:`${Ie(_)}\u6587\u4EF6\u5220\u9664\u6210\u529F`});break;case"rename":v.value=Number(d),Ht(()=>{S.value[Number(d)].focus()});break;case"attribute":R.value=!0;break}},s=n=>C.value[n],t=(n,a)=>{C.value[n]=a},i=n=>{const a=f.value[n];dn(a.jsdelivrUrl,a.filePrefixName+a.fileSubfixName),console.log("\u{1F680} ~ file: index.vue:183 ~ handleDownLoadImg ~ imgData:",a)},h=n=>{let a=Ie(f.value[n],!0);dt.confirm({title:"\u91CD\u547D\u540D\u63D0\u793A",icon:N(zt),content:`\u786E\u8BA4\u91CD\u547D\u540D\u4E3A${a}?`,okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",confirmLoading:!0,onOk:async()=>{try{let d=await Dt({login:w.value.login,repo:w.value.selectedRepo,branch:w.value.selectedBranch,dirs:w.value.dirMode===4?w.value.selectedDirList.join("/"):w.value.selectedDir,filename:a,message:`\u66F4\u65B0\u4E86${a}\u6587\u4EF6\uFF0C\u6765\u6E90\u4E8E${location.origin+location.pathname}`,content:f.value[n].compressFile.base64.split(",")[1],sha:f.value[n].sha});be.success({content:`\u66F4\u65B0${a}\u6210\u529F`}),f.value[n].sha=d.content.sha,f.value[n].filePrefixName=f.value[n].rename,f.value[n].githubUrl=ft.join(fn,`/${w.value.login}/${w.value.selectedRepo}/${w.value.selectedBranch}/${w.value.dirMode===4?w.value.selectedDirList.join("/"):w.value.selectedDir}/${a}`),f.value[n].jsdelivrUrl=ft.join(hn,`/${w.value.login}/${w.value.selectedRepo}@${w.value.selectedBranch}/${w.value.dirMode===4?w.value.selectedDirList.join("/"):w.value.selectedDir}/${a}`),V.updateImgList(f.value[n],n)}catch(d){be.error({content:d.message})}finally{v.value=-1}},onCancel:()=>{v.value=-1}})},c=n=>{S.value.push(n)};return(n,a)=>{const d=Wt,_=qt,m=Vt,T=wt,p=xt,I=yt,e=dt,r=Xt;return Z(),ye("div",Dn,[O("ul",An,[N(r,null,{default:L(()=>[(Z(!0),ye(mt,null,gt(q(f),(o,g)=>(Z(),ye("li",{class:"imgItem",key:o.id},[O("div",{class:"more",ref_for:!0,ref:t.bind(null,g)},[N(m,{getPopupContainer:s.bind(null,g),trigger:"click",class:"more__btn",onClick:n.handleButtonClick},{overlay:L(()=>[N(_,{onClick:j},{default:L(()=>[(Z(),we(d,{key:`delete-${g}`},{default:L(()=>[Pn]),_:2},1024)),(Z(),we(d,{key:`rename-${g}`},{default:L(()=>[Rn]),_:2},1024)),(Z(),we(d,{key:`attribute-${g}`},{default:L(()=>[Fn]),_:2},1024))]),_:2},1024)]),_:2},1032,["getPopupContainer","onClick"])],512),N(T,{class:"img",src:o.compressFile.base64},null,8,["src"]),v.value!==g?(Z(),ye("div",Un,[N(p,null,{title:L(()=>[Y(ue(q(Ie)(o)),1)]),default:L(()=>[Y(" "+ue(q(Ie)(o)),1)]),_:2},1024)])):Pe("",!0),$e(O("div",kn,[N(I,{ref_for:!0,ref:c,onBlur:l=>h(g),value:o.rename,"onUpdate:value":l=>o.rename=l,placeholder:"\u8BF7\u8F93\u5165\u65B0\u7684\u540D\u5B57"},null,8,["onBlur","value","onUpdate:value"])],512),[[Ne,v.value===g]]),O("div",Tn,[O("div",Mn,[N(p,null,{title:L(()=>[Ln]),default:L(()=>[N(q(_t),{onClick:Se(l=>D(g),["stop"]),class:"markdown__icon",component:o.isMarkdown?q(Ct):q(St)},null,8,["onClick","component"])]),_:2},1024)]),O("div",Bn,[N(p,null,{title:L(()=>[En]),default:L(()=>[N(q(jt),{onClick:Se(l=>i(g),["stop"]),style:{fontSize:"14px"},class:"copy__btn"},null,8,["onClick"])]),_:2},1024),N(p,null,{title:L(()=>[On]),default:L(()=>[O("span",{onClick:Se(l=>y("github",g),["stop"]),class:"copy__btn"},"GitHub",8,Gn)]),_:2},1024),N(p,null,{title:L(()=>[$n]),default:L(()=>[O("span",{onClick:Se(l=>y("cdn",g),["stop"]),class:"copy__btn"},"CDN",8,Nn)]),_:2},1024)])]),N(e,{centered:"",footer:null,visible:R.value,"onUpdate:visible":a[0]||(a[0]=l=>R.value=l),title:"\u56FE\u7247\u5C5E\u6027"},{default:L(()=>[O("div",null,[jn,O("strong",null,ue(q(Ie)(q(f)[g])),1)]),O("div",null,[Hn,O("strong",null,ue(q(je)(q(f)[g].compressFile.fileLen))+" KB",1)])]),_:2},1032,["visible"])]))),128))]),_:1})])])}}};var Wn=It(zn,[["__scopeId","data-v-1b291c26"]]);const qn=B=>(Qt("data-v-73f65dc6"),B=B(),Jt(),B),Vn={class:"ant-upload-drag-icon"},Xn=qn(()=>O("p",{class:"ant-upload-text"},"\u62D6\u62FD\u3001\u7C98\u8D34\u3001\u6216\u8005\u70B9\u51FB\u6B64\u5904\u4E0A\u4F20",-1)),Kn={class:"repo__container"},Yn={key:0},Qn=Y(" \u4ED3\u5E93: "),Jn=Y(" \u5206\u652F: "),Zn=Y(" \u76EE\u5F55: "),er={key:1,class:"upload__count"},tr={key:0,class:"upload__list"},nr={class:"list__wrap"},rr={class:"right__info"},ar={class:"top"},or={class:"filename"},ir={class:"img__info"},sr={class:"bottom"},lr={class:"rename-box"},ur={class:"hash__rename"},cr=Y("\u54C8\u5E0C\u5316"),dr=Y("\u91CD\u547D\u540D"),fr={class:"copy-external-link-box"},hr={class:"markdown__icon-box"},pr=Y(" \u70B9\u51FB\u8F6C\u6362markdown\u683C\u5F0F\u5916\u94FE "),vr={class:"copy__btn--box"},mr=Y(" \u70B9\u51FB\u590D\u5236GitHub\u5916\u94FE "),gr=["onClick"],_r=Y(" \u70B9\u51FB\u590D\u5236CDN\u5916\u94FE "),wr=["onClick"],xr=Y("\u91CD\u7F6E"),yr=Y("\u4E0A\u4F20"),Sr={setup(B){const V=He(),k=xe(!1),w=xe(0),{config:v,setting:S}=Ue(V),R=xe(null),C=xe(!1),f=xe([]),D=Pt(),{uploadImgList:y}=Ue(D),j=()=>v.value.dirMode===4?v.value.selectedDirList.join("/"):v.value.selectedDir,s=async({file:p})=>{try{let I=vn(p.name),e=vt(p.name,S.value.isHash);C.value=!0;let r=await wn(p,{quality:S.value.compressValue});if(r.fileLen>1024*1024*10||p.size>1024*1024*10){be.warning({content:"\u6587\u4EF6\u4E0D\u80FD\u8D85\u8FC710M"});return}f.value.push({id:In(),isHash:S.value.isHash,isRename:!1,rename:I,fileSubfixName:e,filePrefixName:I,uploadDate:Date.now(),isUpload:"no",compressFile:r,isMarkdown:S.value.isMarkdown,githubUrl:"",jsdelivrUrl:""})}catch(I){console.log(I)}finally{C.value=!1}},t=()=>{f.value=[]},i=async()=>{if(w.value===f.value.length){be.info({content:"\u5DF2\u5168\u90E8\u4E0A\u4E0A\u4F20\u6210\u529F\uFF0C\u65E0\u9700\u91CD\u590D\u4E0A\u4F20"});return}k.value=!0;for(let p=0;p<f.value.length;p++){if(f.value[p].isUpload==="yes")continue;let I=Ie(f.value[p]);try{f.value[p].isUpload="loading";let e=await Dt({login:v.value.login,repo:v.value.selectedRepo,branch:v.value.selectedBranch,dirs:v.value.dirMode===4?v.value.selectedDirList.join("/"):v.value.selectedDir,filename:I,message:`\u4E0A\u4F20\u4E86${I}\u6587\u4EF6\uFF0C\u6765\u6E90\u4E8E${location.origin+location.pathname}`,content:f.value[p].compressFile.base64.split(",")[1]});be.success({content:`${I}\u6587\u4EF6\u4E0A\u4F20\u6210\u529F`}),f.value[p].sha=e.content.sha,f.value[p].isUpload="yes",f.value[p].githubUrl=mn(I),f.value[p].jsdelivrUrl=gn(I),w.value++,D.setUploadImgList(f.value[p])}catch{}}k.value=!1},h=p=>{f.value.splice(p,1)},c=p=>{f.value[p].filePrefixName=f.value[p].rename,f.value[p].isRename=!1},n=p=>{f.value[p].isMarkdown=!f.value[p].isMarkdown},a=(p="github",I)=>{bt(p,f.value[I])},d=p=>{p.fileSubfixName=vt(p.compressFile.origin.name,p.isHash)},_=p=>{},m=p=>{p.isRename=!1},T=p=>{const I=(p.clipboardData||window.clipboardData).items;let e=null;if(!I||I.length===0){be.error({content:"\u5F53\u524D\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u672C\u5730"});return}for(let r=0;r<I.length;r++)if(I[r].type.indexOf("image")!==-1){e=I[r].getAsFile();break}if(!e){be.error({content:"\u7C98\u8D34\u5185\u5BB9\u975E\u56FE\u7247"});return}R.value.customRequest({file:e})};return(p,I)=>{const e=Zt,r=en,o=tn,g=wt,l=xt,A=cn,x=yt,F=nn,z=rn,U=an,pe=on,M=Kt;return Z(),we(M,{onPaste:T,class:"container"},{default:L(()=>[q(y).length?(Z(),we(Wn,{key:0})):Pe("",!0),O("div",{class:ht([{"page-upload-right":q(y).length},"wrapper"])},[N(r,{spinning:C.value,tip:"\u6B63\u5728\u538B\u7F29\u4E2D"},{default:L(()=>[N(e,{beforeUpload:p.handleBeforeUpload,accept:q(pn),ref_key:"uploadRef",ref:R,name:"file",multiple:!0,customRequest:s,showUploadList:!1},{default:L(()=>[O("p",Vn,[N(q(Yt))]),Xn]),_:1},8,["beforeUpload","accept"])]),_:1},8,["spinning"]),O("div",Kn,[q(v).id?(Z(),ye("div",Yn,[O("span",null,[Qn,N(o,{color:"blue"},{default:L(()=>[Y(ue(q(v).selectedRepo),1)]),_:1})]),O("span",null,[Jn,N(o,{color:"blue"},{default:L(()=>[Y(ue(q(v).selectedBranch),1)]),_:1})]),O("span",null,[Zn,N(o,{color:"blue"},{default:L(()=>[Y(ue(j()),1)]),_:1})])])):Pe("",!0),f.value.length?(Z(),ye("div",er," \u5DF2\u4E0A\u4F20 "+ue(w.value)+" / "+ue(f.value.length),1)):Pe("",!0)]),f.value.length?(Z(),ye("div",tr,[O("ul",nr,[(Z(!0),ye(mt,null,gt(f.value,(W,ee)=>(Z(),ye("li",{key:W.id,class:"upload__list-item"},[O("div",{class:ht(["upload__icon",{success:W.isUpload}])},[W.isUpload==="no"?(Z(),we(q(sn),{key:0,rotate:"-45",style:{color:"white"}})):W.isUpload==="loading"?(Z(),we(q(ln),{key:1})):(Z(),we(q(un),{key:2,rotate:"-45"}))],2),N(g,{class:"img__box",src:W.compressFile.base64},null,8,["src"]),O("div",rr,[O("div",ar,[N(l,null,{title:L(()=>[Y(ue(q(Ie)(W)),1)]),default:L(()=>[O("span",or,ue(q(Ie)(W)),1)]),_:2},1024),O("div",ir,[O("span",null,[O("del",null,ue(q(je)(W.compressFile.origin.size))+"M",1)]),O("span",null,ue(q(je)(W.compressFile.fileLen))+"M",1),O("span",null,ue(q(_n)(W.uploadDate,"YYYY-MM-DD HH:mm:ss").value),1)])]),O("div",sr,[$e(O("div",lr,[O("div",ur,[N(A,{onChange:ie=>d(W),checked:W.isHash,"onUpdate:checked":ie=>W.isHash=ie},{default:L(()=>[cr]),_:2},1032,["onChange","checked","onUpdate:checked"]),N(A,{onChange:ie=>_(),checked:W.isRename,"onUpdate:checked":ie=>W.isRename=ie},{default:L(()=>[dr]),_:2},1032,["onChange","checked","onUpdate:checked"]),W.isRename?(Z(),we(x,{key:0,size:"small",style:{"max-width":"240px"},"allow-clear":"",onBlur:ie=>c(ee),value:W.rename,"onUpdate:value":ie=>W.rename=ie,placeholder:"\u8BF7\u8F93\u5165\u91CD\u65B0\u4FEE\u6539\u7684\u6587\u4EF6\u540D"},{addonAfter:L(()=>[N(q(pt),{onClick:Se(ie=>m(W),["stop"])},null,8,["onClick"])]),_:2},1032,["onBlur","value","onUpdate:value"])):Pe("",!0)]),O("div",null,[N(q(pt),{class:"close__icon",onClick:Se(ie=>h(ee),["stop"])},null,8,["onClick"])])],512),[[Ne,W.isUpload==="no"]]),$e(O("div",fr,[O("div",hr,[N(l,null,{title:L(()=>[pr]),default:L(()=>[N(q(_t),{onClick:Se(ie=>n(ee),["stop"]),class:"markdown__icon",component:W.isMarkdown?q(Ct):q(St)},null,8,["onClick","component"])]),_:2},1024)]),O("div",vr,[N(l,null,{title:L(()=>[mr]),default:L(()=>[O("span",{onClick:Se(ie=>a("github",ee),["stop"]),class:"copy__btn"},"GitHub",8,gr)]),_:2},1024),N(l,null,{title:L(()=>[_r]),default:L(()=>[O("span",{onClick:Se(ie=>a("cdn",ee),["stop"]),class:"copy__btn"},"CDN",8,wr)]),_:2},1024)])],512),[[Ne,W.isUpload==="yes"]])])])]))),128))])])):Pe("",!0),N(pe,{justify:"end"},{default:L(()=>[N(U,{span:4},{default:L(()=>[N(z,{class:"btns-box"},{default:L(()=>[N(F,{onClick:t},{default:L(()=>[xr]),_:1}),N(F,{loading:k.value,onClick:i,type:"primary"},{default:L(()=>[yr]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})],2)]),_:1})}}};var Fr=It(Sr,[["__scopeId","data-v-73f65dc6"]]);export{Fr as default};
